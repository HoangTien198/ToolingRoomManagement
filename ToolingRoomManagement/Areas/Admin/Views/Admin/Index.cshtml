@model IEnumerable<ToolingRoomManagement.Models.Device_ManagerModel>
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout_AdminPage.cshtml";
    var listDeviceManager = (List<Model.EF.Device>)ViewBag.ListDevice_Manager;
    var session = (ToolingRoomManagement.Common.UserLogin)Session[ToolingRoomManagement.Common.CommonConstants.USER_SESSION];
    int dem = 0; int dem2 = 0; int dem3 = 0; int dem1 = 0; int dem4 = 0;
    int all = 0;
    int kind1 = 0;
    int kind2 = 0;
    int kind3 = 0;
    int kind4 = 0;
    float _kind1 = 0;
    float _kind2 = 0;
    float _kind3 = 0;
    float _kind4 = 0;
}
<script src="~/Assets/admin/js/vendor/jquery-1.12.4.min.js"></script>
@foreach (var item in listDeviceManager)
{
    { all++; }
    if (item.kind_of_device == 1)
    {
        { kind1 = kind1 + 1; }
    }
    else if (item.kind_of_device == 2)
    {
        { kind2 = kind2 + 1; }
    }
    else if (item.kind_of_device == 3)
    {
        { kind3 = kind3 + 1; }
    }
    else
    {
        { kind4 = kind4 + 1; }
    }
}
@{
    _kind1 = (float.Parse(kind1.ToString()) / float.Parse(all.ToString())) * 100;
    _kind2 = (float.Parse(kind2.ToString()) / float.Parse(all.ToString())) * 100;
    _kind3 = (float.Parse(kind3.ToString()) / float.Parse(all.ToString())) * 100;
    _kind4 = (float.Parse(kind4.ToString()) / float.Parse(all.ToString())) * 100;
}
<style>
    h6 {
        color: aliceblue;
    }

        h6 b {
            font-weight: 700;
        }

    @@media (min-width: 900px) {
        .modal-sm {
            width: 900px;
        }
    }

    @@media (min-width: 900px) {
        .modal-content {
            -webkit-box-shadow: 0 5px 15px rgba(0,0,0,.5);
            box-shadow: 0 5px 15px rgba(0,0,0,.5);
        }
    }

    .tblCreate thead tr th {
        text-align: center;
    }

    .tblCreate tbody tr td {
        text-align: center;
    }

    .tblCreate tbody tr td {
        border: 0;
    }

    #device_name {
        background: white;
        color: black;
        width: 80%;
    }

    #quantity {
        background: white;
        color: black;
        width: 80%;
    }

    #tblAddDevice thead tr th {
        text-align: center;
    }

    #tblAddDevice tbody tr td {
        text-align: center;
    }

    .zoom {
        transition: transform .5s;
    }

        .zoom:hover {
            transform: scale(1.1); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */
        }

    .btn-default {
        height: 43px;
    }

    .tblCreate tbody tr td {
        height: 60px;
    }

    ::-webkit-scrollbar {
        width: 5px;
        height: 5px;
    }

    ::-webkit-scrollbar-thumb {
        -webkit-box-shadow: inset 0 0 4px 9px rgba(0,0,0,0.3);
        border-radius: 10px;
    }

    @@keyframes example {
        0% {
            background-color: red;
        }

        25% {
            background-color: #1b2a47;
        }

        50% {
            background-color: red;
        }

        75% {
            background-color: #1b2a47;
        }

        100% {
            background-color: red;
        }
    }

    .animation {
        background-color: red;
        position: relative;
        animation-name: example;
        animation-duration: 4s;
        animation-iteration-count: infinite;
    }

    .tblShow {
        border: 1px solid;
    }

        .tblShow thead tr th {
            vertical-align: middle;
            background: #2d9aca;
            padding: 0px 0px 0px 5px;
            position: sticky;
            top: -3px;
        }

        .tblShow tbody tr td {
            vertical-align: middle;
            padding: 6px 15px;
        }
    #tbl thead tr th {
        word-break: break-all;
        background: #5c7096;
        position: sticky;
        top: -3px;
        font-size: 1.7vh;
    }

    #tbl tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl1 thead tr th {
        background: #5c7096;
        position: sticky;
        top: -3px;
        font-size: 1.7vh;
    }

    #tbl1 tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl2 thead tr th {
        background: #5c7096;
        position: sticky;
        top: -3px;
        font-size: 1.7vh;
    }

    #tbl2 tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl3 thead tr th {
        background: #5c7096;
        position: sticky;
        top: -3px;
        font-size: 1.7vh;
    }

    #tbl3 tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl4 thead tr th {
        background: #5c7096;
        position: sticky;
        top: -3px;
    }

    #tbl4 tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }
</style>
<div class="header-advance-area">

    <!-- Mobile Menu start -->
    <div class="mobile-menu-area">
        <div class="container">

        </div>
    </div>
    <!-- Mobile Menu end -->
    <div class="breadcome-area" style="margin-top: 40px;">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="breadcome-list" style="padding: 10px 20px 10px 20px;margin: 30px 0px 10px 0px;" onclick="show_table('tbl')">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <div class="breadcomb-wp">
                                    <div class="breadcomb-icon zoom" data-toggle="tooltip" data-placement="bottom" title="Home">
                                        <a href="/Admin/Admin/Index"><i class="icon nalika-home"></i></a>
                                    </div>
                                    <div class="breadcomb-ctn">
                                        <h2 langKey="all_device">All Devices</h2>
                                        <p>Welcome to Tooling <span class="bread-ntd">Room</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <div class="breadcomb-report">
                                    <button data-toggle="tooltip" data-placement="left" title="Export Excel file" class="btn" onclick="fnExcelReport()"><i class="icon nalika-download"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="section-admin container-fluid">
        <div class="row admin text-center">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                        <div class="admin-content analysis-progrebar-ctn res-mg-t-15" onclick="show_table('tbl1')" style="padding: 10px 20px 10px 20px;">
                            <h6 class="text-left text-uppercase"><b langKey="fix_device">Thiết bị cố định</b></h6>
                            <div class="row vertical-center-box vertical-center-box-tablet">
                                <div class="col-xs-3 mar-bot-15 text-left">
                                    <label class="label bg-green" id="_kind1">@string.Format("{0:N2}", _kind1) % <i class="fa fa-level-up" aria-hidden="true"></i></label>
                                </div>
                                <div class="col-xs-9 cus-gh-hd-pro">
                                    <h2 class="text-right no-margin" id="kind1">@kind1</h2>
                                </div>
                            </div>
                            <div class="progress progress-mini">
                                <div style="width: @string.Format("{0:N2}", _kind1)%" class="progress-bar bg-green"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                        <div class="admin-content analysis-progrebar-ctn res-mg-t-30" onclick="show_table('tbl2')" style="padding: 10px 20px 10px 20px;">
                            <h6 class="text-left text-uppercase"><b langKey="consum_device">Thiết bị tiêu hao</b></h6>
                            <div class="row vertical-center-box vertical-center-box-tablet">
                                <div class="text-left col-xs-3 mar-bot-15">
                                    <label class="label bg-blue">@string.Format("{0:N2}", _kind2) % <i class="fa fa-level-up" aria-hidden="true"></i></label>
                                </div>
                                <div class="col-xs-9 cus-gh-hd-pro">
                                    <h2 class="text-right no-margin">@kind2</h2>
                                </div>
                            </div>
                            <div class="progress progress-mini">
                                <div style="width: @string.Format("{0:N2}", _kind2)%;" class="progress-bar bg-blue"></div>
                            </div>
                        </div>
                    </div>
                    @*<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
            <div class="admin-content analysis-progrebar-ctn res-mg-t-30" onclick="show_table('tbl3')" style="padding: 10px 20px 10px 20px;">
                <h6 class="text-left text-uppercase"><b>Thiết bị hao trái</b></h6>
                <div class="row vertical-center-box vertical-center-box-tablet">
                    <div class="text-left col-xs-3 mar-bot-15">
                        <label class="label bg-purple">@string.Format("{0:N2}", _kind3) % <i class="fa fa-level-up" aria-hidden="true"></i></label>
                    </div>
                    <div class="col-xs-9 cus-gh-hd-pro">
                        <h2 class="text-right no-margin">@kind3</h2>
                    </div>
                </div>
                <div class="progress progress-mini">
                    <div style="width: @string.Format("{0:N2}", _kind3)%;" class="progress-bar bg-purple"></div>
                </div>
            </div>
        </div>*@
                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" style="margin-bottom:1px;">
                        <div class="admin-content analysis-progrebar-ctn res-mg-t-30" onclick="show_table('tbl4')" style="padding: 10px 20px 10px 20px;">
                            <h6 class="text-left text-uppercase"><b langKey="reserve_device">Thiết bị dự phòng</b></h6>
                            <div class="row vertical-center-box vertical-center-box-tablet">
                                <div class="text-left col-xs-3 mar-bot-15">
                                    <label class="label bg-red">@string.Format("{0:N2}", _kind3) % <i class="fa fa-level-down" aria-hidden="true"></i></label>
                                </div>
                                <div class="col-xs-9 cus-gh-hd-pro">
                                    <h2 class="text-right no-margin">@kind3</h2>
                                </div>
                            </div>
                            <div class="progress progress-mini">
                                <div style="width: @string.Format("{0:N2}", _kind3)%;" class="progress-bar progress-bar-danger bg-red"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>
<div class="product-sales-area mg-tb-30" style="margin: 10px 0px;">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="product-sales-chart" style="padding: 5px 10px 5px 20px;">
                    <div class="portlet-title">
                        <div class="row">
                            <div style="width:33.33%;float:left;height: 280px;">
                                <div style="padding: 5px 26px 5px 10px;overflow:auto;">
                                    <div style="overflow:auto;height: 277px;">
                                        <table class="tblShow table-bordered" style="width: 100%;color:white;">
                                            <thead>
                                                <tr style="height:45px;">
                                                    <th style="width:80%;" langKey="name_device">Device name</th>
                                                    <th langKey="quantity">Quantity</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @if (listDeviceManager.Count() != 0)
                                                {
                                                    foreach (var item in listDeviceManager)
                                                    {
                                                        if (item.kind_of_device == 1)
                                                        {
                                                            if (item.quantity <= item.gioihan)
                                                            {
                                                                <tr class="animation" style="background-color: #e6333394">
                                                                    <td>@item.device_name</td>
                                                                    <td>@item.quantity</td>
                                                                </tr>
                                                            }
                                                            else
                                                            {
                                                                <tr>
                                                                    <td>@item.device_name</td>
                                                                    <td>@item.quantity</td>
                                                                </tr>
                                                            }

                                                        }
                                                    }
                                                }
                                                
                                            </tbody>


                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div style="width:33.33%;float:left;height: 280px;">
                                <div style="padding: 5px 18px 5px 4px;overflow:auto;">
                                    <div style="overflow:auto;height: 277px;">
                                        <table class="tblShow table-bordered" style="width: 100%; color:white;">
                                            <thead>
                                                <tr style="height:45px;">
                                                    <th style="width:80%;" langKey="name_device">Device name</th>
                                                    <th langKey="quantity">Quantity</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var item in listDeviceManager)
                                                {
                                                    if (item.kind_of_device == 2)
                                                    {
                                                        if (item.quantity <= item.gioihan)
                                                        {
                                                            <tr class="animation" style="background-color: #e6333394">
                                                                <td>@item.device_name</td>
                                                                <td>@item.quantity</td>
                                                            </tr>
                                                        }
                                                        else
                                                        {
                                                            <tr>
                                                                <td>@item.device_name</td>
                                                                <td>@item.quantity</td>
                                                            </tr>
                                                        }
                                                    }
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            @*<div style="width:25%;float:left;height: 280px;">
                                <div style="padding: 5px 10px 5px 10px;overflow:auto;">
                                    <div style="overflow:auto;height: 277px;">
                                        <table class="tblShow table-bordered" style="width: 100%;color:white;">
                                            <thead>
                                                <tr style="height:45px;">
                                                    <th style="width:80%;">Device name</th>
                                                    <th>Quantity</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var item in listDeviceManager)
                                                {
                                                    if (item.kind_of_device == 3)
                                                    {
                                                        if (item.quantity < 5)
                                                        {
                                                            <tr class="animation" style="background-color: #e6333394">
                                                                <td>@item.device_name</td>
                                                                <td>@item.quantity</td>
                                                            </tr>
                                                        }
                                                        else
                                                        {
                                                            <tr>
                                                                <td>@item.device_name</td>
                                                                <td>@item.quantity</td>
                                                            </tr>
                                                        }
                                                    }
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>*@
                            <div style="width:33.33%;float:left;height: 280px;">
                                <div style="padding: 5px 10px 5px 20px;overflow:auto;">
                                    <div style="overflow:auto;height: 277px;">
                                        <table class="tblShow table-bordered" style="width: 100%;color:white;">
                                            <thead>
                                                <tr style="height:45px;">
                                                    <th style="width:80%;" langKey="name_device">Device name</th>
                                                    <th langKey="quantity">Quantity</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var item in listDeviceManager)
                                                {
                                                    if (item.kind_of_device == 3)
                                                    {
                                                        if (item.quantity <= item.gioihan)
                                                        {
                                                            <tr class="animation" style="background-color: #e6333394">
                                                                <td>@item.device_name</td>
                                                                <td>@item.quantity</td>
                                                            </tr>
                                                        }
                                                        else
                                                        {
                                                            <tr>
                                                                <td>@item.device_name</td>
                                                                <td>@item.quantity</td>
                                                            </tr>
                                                        }
                                                    }
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="product-sales-area mg-tb-30" style="margin: 10px 0px;height: 70vh;">
    <div class="container-fluid" style="height: 70vh;">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="product-sales-chart" style="padding: 6px 20px 5px 20px;">
                    <div class="portlet-title">
                        <div class="row">
                            <div class="content">
                                <div>
                                    
                                    <div class="col-lg-2 col-md-7 col-sm-6 col-xs-12" style="float:right;width: 300px;">
                                        <div class="header-top-menu tabl-d-n hd-search-rp">
                                            <div class="breadcome-heading" style="margin: 0px 0px 10px 0px;">
                                                <form role="search" class="">
                                                    <input id="input_search" type="text" placeholder="Search..." class="form-control" style="width: 283px;color: #fffaf0;height: 39px;">
                                                    <a href="" style="left: 257px;margin-top: -23px;"><i class="fa fa-search"></i></a>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="" style="overflow:auto;height: 60vh;width:100%;">
                                    <table id="tbl" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                        <thead style="background:#5c7096;">
                                            <tr>
                                                <th scope="col" style="text-align:center;">STT</th>
                                                <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="unit">Đơn vị</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="location">Vị trí</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="status_1">TT</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="inventory_stamp">Kiểm kê</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="SN_code">SN</th>
                                                <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="update_date">Ngày update</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>

                                            </tr>
                                        </thead>
                                        <tbody id="tbl_id">
                                            @foreach (var device in Model)
                                            {
                                                { dem++; }
                                                if (device.device.quantity < device.device.gioihan)
                                                {
                                                    <tr class="animation" style="background-color:#e6333394;">

                                                        <td scope="row">@dem</td>
                                                        <td>@device.device.code_device</td>
                                                        <td style="text-align:left;">@device.device.device_name</td>
                                                        <td>@device.device.quantity</td>
                                                        <td>@device.device.price</td>
                                                        <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                        <td>@device.device.parameter</td>

                                                        <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                        <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                        <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                        <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                        <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                        <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                        @if (device.device.create_date != null)
                                                        {
                                                            <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                        }
                                                        else
                                                        {
                                                            <td>N/A</td>
                                                        }
                                                        @if (device.device.update_date != null)
                                                        {
                                                            <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                        }
                                                        else
                                                        {
                                                            <td>N/A</td>
                                                        }
                                                        <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                        <td>@device.user_name</td>
                                                        <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>

                                                    </tr>
                                                }
                                                else
                                                {
                                                    <tr>

                                                        <td scope="row">@dem</td>
                                                        <td>@device.device.code_device</td>
                                                        <td style="text-align:left;">@device.device.device_name</td>
                                                        <td>@device.device.quantity</td>
                                                        <td>@device.device.price</td>
                                                        <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                        <td>@device.device.parameter</td>

                                                        <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                        <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                        <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                        <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                        <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                        <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                        @if (device.device.create_date != null)
                                                        {
                                                            <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                        }
                                                        else
                                                        {
                                                            <td>N/A</td>
                                                        }
                                                        @if (device.device.update_date != null)
                                                        {
                                                            <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                        }
                                                        else
                                                        {
                                                            <td>N/A</td>
                                                        }
                                                        <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                        <td>@device.user_name</td>
                                                        <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>


                                                    </tr>
                                                }
                                            }
                                        </tbody>
                                    </table>
                                    <table hidden id="tbl1" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                        <thead style="background:#5c7096;">
                                            <tr>
                                                <th scope="col" style="text-align:center;">STT</th>
                                                <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="unit">Đơn vị</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="location">Vị trí</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="status_1">TT</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="inventory_stamp">Kiểm kê</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="SN_code">SN</th>
                                                <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="update_date">Ngày update</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>

                                            </tr>
                                        </thead>
                                        <tbody id="tbl1_id">
                                            @foreach (var device in Model)
                                            {
                                                if (device.device.kind_of_device == 1)
                                                {
                                                    { dem1++; }
                                                    if (device.device.quantity < device.device.gioihan)
                                                    {
                                                        <tr class="animation" style="background-color:#e6333394;">

                                                            <td scope="row">@dem</td>
                                                            <td>@device.device.code_device</td>
                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                            <td>@device.device.quantity</td>
                                                            <td>@device.device.price</td>
                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                            <td>@device.device.parameter</td>

                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                            @if (device.device.create_date != null)
                                                            {
                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            @if (device.device.update_date != null)
                                                            {
                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                            <td>@device.user_name</td>
                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                        </tr>
                                                    }
                                                    else
                                                    {
                                                        <tr>

                                                            <td scope="row">@dem</td>
                                                            <td>@device.device.code_device</td>
                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                            <td>@device.device.quantity</td>
                                                            <td>@device.device.price</td>
                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                            <td>@device.device.parameter</td>

                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                            @if (device.device.create_date != null)
                                                            {
                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            @if (device.device.update_date != null)
                                                            {
                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                            <td>@device.user_name</td>
                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>

                                                        </tr>
                                                    }
                                                }
                                            }
                                        </tbody>
                                    </table>
                                    <table hidden id="tbl2" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                        <thead style="background:#5c7096;">
                                            <tr>
                                                <th scope="col" style="text-align:center;">STT</th>
                                                <th scope="col" style="text-align:center;width: 6.2%;">Mã TB</th>
                                                <th scope="col" style="text-align:center; width:14%">Tên TB</th>
                                                <th scope="col" style="text-align:center; width:4%">Số lượng</th>
                                                <th scope="col" style="text-align:center; width:4%;">Giá</th>
                                                <th scope="col" style="text-align:center; width:4%;">Nhãn hiệu</th>
                                                <th scope="col" style="text-align:center;width:14%;">Quy cách</th>
                                                <th scope="col" style="text-align:center;">Đơn vị</th>
                                                <th scope="col" style="text-align:center;">Vị trí</th>
                                                <th scope="col" style="text-align:center;">TT</th>
                                                <th scope="col" style="text-align:center; width:5%;">Kiểm kê</th>
                                                <th scope="col" style="text-align:center;">SN</th>
                                                <th scope="col" style="text-align:center; width:5%;">Hiệu chỉnh</th>
                                                <th scope="col" style="text-align:center; width:6%;">Ngày nhập</th>
                                                <th scope="col" style="text-align:center;width:6%;">Ngày update</th>
                                                <th scope="col" style="text-align:center;width:4%;">Loại TB</th>
                                                <th scope="col" style="text-align:center;width:4%;">Quản lý</th>
                                                <th scope="col" style="text-align:center;width:4%;">Hình ảnh</th>

                                            </tr>
                                        </thead>
                                        <tbody id="tbl2_id">
                                            @foreach (var device in Model)
                                            {
                                                if (device.device.kind_of_device == 2)
                                                {
                                                    { dem2++; }
                                                    if (device.device.quantity < device.device.gioihan)
                                                    {
                                                        <tr class="animation" style="background-color:#e6333394;">

                                                            <td scope="row">@dem</td>
                                                            <td>@device.device.code_device</td>
                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                            <td>@device.device.quantity</td>
                                                            <td>@device.device.price</td>
                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                            <td>@device.device.parameter</td>

                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                            @if (device.device.create_date != null)
                                                            {
                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            @if (device.device.update_date != null)
                                                            {
                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                            <td>@device.user_name</td>
                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>

                                                        </tr>
                                                    }
                                                    else
                                                    {
                                                        <tr>

                                                            <td scope="row">@dem</td>
                                                            <td>@device.device.code_device</td>
                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                            <td>@device.device.quantity</td>
                                                            <td>@device.device.price</td>
                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                            <td>@device.device.parameter</td>

                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                            @if (device.device.create_date != null)
                                                            {
                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            @if (device.device.update_date != null)
                                                            {
                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                            <td>@device.user_name</td>
                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>

                                                        </tr>
                                                    }
                                                }
                                            }
                                        </tbody>
                                    </table>
                                    <table hidden id="tbl4" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                        <thead style="background:#5c7096;">
                                            <tr>
                                                <th scope="col" style="text-align:center;">STT</th>
                                                <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="unit">Đơn vị</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="location">Vị trí</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="status_1">TT</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="inventory_stamp">Kiểm kê</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="SN_code">SN</th>
                                                <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="update_date">Ngày update</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>

                                            </tr>
                                        </thead>
                                        <tbody id="tbl3_id">
                                            @foreach (var device in Model)
                                            {
                                                if (device.device.kind_of_device == 3)
                                                {
                                                    { dem3++; }
                                                    if (device.device.quantity < device.device.gioihan)
                                                    {
                                                        <tr class="animation" style="background-color:#e6333394;">

                                                            <td scope="row">@dem</td>
                                                            <td>@device.device.code_device</td>
                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                            <td>@device.device.quantity</td>
                                                            <td>@device.device.price</td>
                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                            <td>@device.device.parameter</td>

                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                            @if (device.device.create_date != null)
                                                            {
                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            @if (device.device.update_date != null)
                                                            {
                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                            <td>@device.user_name</td>
                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>



                                                        </tr>
                                                    }
                                                    else
                                                    {
                                                        <tr>

                                                            <td scope="row">@dem</td>
                                                            <td>@device.device.code_device</td>
                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                            <td>@device.device.quantity</td>
                                                            <td>@device.device.price</td>
                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                            <td>@device.device.parameter</td>

                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                            @if (device.device.create_date != null)
                                                            {
                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            @if (device.device.update_date != null)
                                                            {
                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                            <td>@device.user_name</td>
                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>



                                                        </tr>
                                                    }
                                                }
                                            }
                                        </tbody>
                                    </table>
                                    <table hidden id="tbl3" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                        <thead style="background:#5c7096;">
                                            <tr>
                                                <th scope="col" style="text-align:center;">STT</th>
                                                <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="unit">Đơn vị</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="location">Vị trí</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="status_1">TT</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="inventory_stamp">Kiểm kê</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="SN_code">SN</th>
                                                <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                <th scope="col" style="text-align:center;width:6%;" langKey="update_date">Ngày update</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>

                                            </tr>
                                        </thead>
                                        <tbody id="tbl4_id">
                                            @*@foreach (var device in Model)
                                            {
                                                if (device.device.kind_of_device == 4)
                                                {
                                                    { dem4++; }
                                                    if (device.device.quantity <= device.device.gioihan)
                                                    {
                                                        <tr class="animation" style="background-color:#e6333394;">

                                                            <td scope="row">@dem</td>
                                                            <td>@device.device.code_device</td>
                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                            <td>@device.device.quantity</td>
                                                            <td>@device.device.price</td>
                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                            <td>@device.device.parameter</td>

                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                            @if (device.device.create_date != null)
                                                            {
                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            @if (device.device.update_date != null)
                                                            {
                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                            <td>@device.user_name</td>
                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage(@device.device.image_TB)">Xem</button></td>

                                                        </tr>
                                                    }
                                                    else
                                                    {
                                                        <tr>

                                                            <td scope="row">@dem</td>
                                                            <td>@device.device.code_device</td>
                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                            <td>@device.device.quantity</td>
                                                            <td>@device.device.price</td>
                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                            <td>@device.device.parameter</td>

                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                            @if (device.device.create_date != null)
                                                            {
                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            @if (device.device.update_date != null)
                                                            {
                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                            }
                                                            else
                                                            {
                                                                <td>N/A</td>
                                                            }
                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB DP" : "N/A")</td>
                                                            <td>@device.user_name</td>
                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage(@device.device.image_TB)">Xem</button></td>


                                                        </tr>
                                                    }
                                                }
                                            }*@
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
</div>
<div class="modal" id="myModal_Image">
    <div class="modal-dialog modal-sm">
        <div class="modal-content" style="">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Create New Device</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="height:450px;">
                <input hidden id="id_device" />

                <div id="imageTB"> </div>
                <h5>Note: </h5>
                <textarea id="note_status" disabled style="border: 1px solid #80808082;color: red;background: #9ddaec4d;width: 850px;height: 50px;border-radius: 5px;"></textarea>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btnclose">Đóng</button>
            </div>
        </div>
    </div>
</div>
<script>
    var modal_Image = document.getElementById("myModal_Image");
    $(document).on("click", ".close", function () {
        modal_Image.style.display = "none";
    })
    $(document).on("click", ".btnclose", function () {
        modal_Image.style.display = "none";
    })
    var tab = "tbl";
    function show_table(id_table) {
        var i;
        var x = document.getElementsByClassName("table");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        document.getElementById(id_table).style.display = "block";
        tab = id_table;
    }
    function fnExcelReport() {
        debugger
        var tab_text = "<table border='2px'><tr bgcolor='#87AFC6'>";
        var textRange; var j = 0;
        tab = document.getElementById('tbl'); // id of table

        for (j = 0; j < tab.rows.length; j++) {
            tab_text = tab_text + tab.rows[j].innerHTML + "</tr>";
            //tab_text=tab_text+"</tr>";
        }

        tab_text = tab_text + "</table>";
        /*tab_text = tab_text.replace(/<A[^>]*>|<\/A>/g, "");*///remove if u want links in your table
        /* tab_text = tab_text.replace(/<img[^>]*>/gi, "");*/ // remove if u want images in your table
        tab_text = tab_text.replace(/<input[^>]*>|<\/input>/gi, ""); // reomves input params

        var ua = window.navigator.userAgent;
        var msie = ua.indexOf("MSIE ");

        if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./))      // If Internet Explorer
        {
            txtArea1.document.open("txt/html", "replace");
            txtArea1.document.write(tab_text);
            txtArea1.document.close();
            txtArea1.focus();
            sa = txtArea1.document.execCommand("SaveAs", true, "List All Devices.xls");
        }
        else                 //other browser not tested on IE 11
            //sa = window.open('data:application/vnd.ms-excel,' + encodeURIComponent(tab_text));
            var a = document.createElement('a');
        a.href = 'data:application/vnd.ms-excel,' + encodeURIComponent(tab_text);
        a.download = "List All Devices.xls";
        a.click();

        return (sa);
    }
    $(document).ready(function () {
        function search() {
            $("#input_search").on("keyup", function () {
                //get the input value, trimmed, and lowercased
                var value = this.value.trim().toLowerCase();
                //get the associated table
                var $table;
                if (tab == "tbl") {
                    $table = $("#tbl_id");
                } else if (tab == "tbl1") {
                    $table = $("#tbl1_id");
                } else if (tab == "tbl2") {
                    $table = $("#tbl2_id");
                } else if (tab == "tbl3") {
                    $table = $("#tbl3_id");
                } else if (tab == "tbl4") {
                    $table = $("#tbl3_id");
                }


                //show all the rows to "undo" previous filtering
                $table.find('tr').show();

                //only filter if the value is not blank
                if (value) {
                    $table.find('thead tr').show();
                    //find all the rows that do not match the filter, and hide them
                    $table.find('tr').filter(function () {

                        return this.innerText.toLowerCase().indexOf(value) < 0;
                    }).hide();
                }
            });
        };
        search();
    })
    function ViewImage(imageTB, note_status) {
        if (imageTB != "") {
            $("#imageTB").empty();
            $("#note_status").empty();
            debugger
            var list_image = "";
            var image = JSON.parse(imageTB);
            for (j = 0; j < image.length; j++) {
                list_image += '<a href="/Data/Image/' + image[j].file + '" data-toggle="lightbox" data-max-width="600" >' +
                    '   <img style="width:50%;height:70%;border: 1px solid #2c303a;float:left;" src="/Data/Image/' + image[j].file + '" class="img-fluid">' +
                    '</a>';
            }
            $("#imageTB").append(list_image);
            $("#note_status").append(note_status);
            modal_Image.style.display = "block";
        } else {
            alert("TB này k có hình ảnh!");
        }
    }
</script>

