@model IEnumerable<ToolingRoomManagement.Models.Device_ManagerModel>

@{
    ViewBag.Title = "Confirm_Page";
    Layout = "~/Areas/Admin/Views/Shared/_Layout_AdminPage.cshtml";
    var listAllDevice = (List<Model.EF.Device>)ViewBag.listAllDevice;
    var listManager = (List<Model.EF.User>)ViewBag.listManager;
    int dem = 0; int dem2 = 0; int dem3 = 0; int dem1 = 0; int dem4 = 0;
    int all = 0;
    int kind1 = 0;
    int kind2 = 0;
    int kind3 = 0;
    int kind4 = 0;
    float _kind1 = 0;
    float _kind2 = 0;
    float _kind3 = 0;
    float _kind4 = 0;
}

<link href="~/Assets/admin/bootstrap-select.css" rel="stylesheet" />
@*<script src="~/Assets/client/vendor/jquery/jquery.min.js"></script>*@
<script src="~/Assets/admin/js/vendor/jquery-1.12.4.min.js"></script>
<script src="~/Assets/admin/bootstrap-select.js"></script>
@foreach (var item in listAllDevice)
{
    { all++; }
    if (item.kind_of_device == 1)
    {
        { kind1 = kind1 + 1; }
    }
    else if (item.kind_of_device == 2)
    {
        { kind2 = kind2 + 1; }
    }
    else if (item.kind_of_device == 3)
    {
        { kind3 = kind3 + 1; }
    }
    else
    {
        { kind4 = kind4 + 1; }
    }
}
@{
    _kind1 = (float.Parse(kind1.ToString()) / float.Parse(all.ToString())) * 100;
    _kind2 = (float.Parse(kind2.ToString()) / float.Parse(all.ToString())) * 100;
    _kind3 = (float.Parse(kind3.ToString()) / float.Parse(all.ToString())) * 100;
    _kind4 = (float.Parse(kind4.ToString()) / float.Parse(all.ToString())) * 100;
}
<link href="~/Assets/client/vendor/bootstrap/css/the-datepicker.css" rel="stylesheet" />
<script src="~/Assets/client/vendor/jquery/the-datepicker.js"></script>

<style>
    h6 {
        color: aliceblue;
    }

        h6 b {
            font-weight: 700;
        }

    @@media (min-width: 900px) {
        .modal-sm {
            width: 60%;
        }

        .modal-sm1 {
            width: 80%;
        }
    }

    @@media (min-width: 900px) {
        .modal-content {
            -webkit-box-shadow: 0 5px 15px rgba(0,0,0,.5);
            box-shadow: 0 5px 15px rgba(0,0,0,.5);
        }
    }

    .tblCreate thead tr th {
        text-align: center;
        position: sticky;
        top: -3px;
        text-align: center;
        position: sticky;
        top: -4px;
        color: white;
        background: #0f5cbb;
    }

    .tblCreate tbody tr td {
        text-align: center;
        word-break: break-all;
        font-size: 1.2vh;
    }

    .tblCreate tbody tr td {
        border: 0;
    }

    .tblCreate thead tr th {
        font-size: 1.5vh;
    }

    #device_name {
        background: white;
        color: black;
        width: 80%;
    }

    #quantity {
        background: white;
        color: black;
        width: 80%;
    }

    #tblAddDevice thead tr th {
        text-align: center;
    }

    #tblAddDevice tbody tr td {
        text-align: center;
    }

    .zoom {
        transition: transform .5s;
    }

        .zoom:hover {
            transform: scale(1.1); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */
        }

    .btn-default {
        height: 43px;
    }

    .tblCreate tbody tr td {
        height: 5vh;
    }

    ::-webkit-scrollbar {
        width: 10px;
        height: 8px;
    }

    ::-webkit-scrollbar-thumb {
        -webkit-box-shadow: inset 0 0 4px 9px rgba(0,0,0,0.3);
        border-radius: 10px;
    }

    @@keyframes example {
        0% {
            background-color: red;
        }

        25% {
            background-color: #1b2a47;
        }

        50% {
            background-color: red;
        }

        75% {
            background-color: #1b2a47;
        }

        100% {
            background-color: red;
        }
    }

    .animation {
        background-color: red;
        position: relative;
        animation-name: example;
        animation-duration: 4s;
        animation-iteration-count: infinite;
    }

    .tblShow {
        border: 1px solid;
    }

        .tblShow thead tr th {
            vertical-align: middle;
            background: #2d9aca;
            padding: 0px 0px 0px 5px;
            position: sticky;
            top: -3px;
        }

        .tblShow tbody tr td {
            vertical-align: middle;
            padding: 6px 15px;
        }

    #tbl thead tr th {
        word-break: break-all;
        background: #5c7096;
        position: sticky;
        top: -3px;
        font-size: 1.7vh;
    }

    #tbl tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl1 thead tr th {
        background: #5c7096;
        position: sticky;
        top: -3px;
        font-size: 1.7vh;
    }

    #tbl1 tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl2 thead tr th {
        background: #5c7096;
        position: sticky;
        top: -3px;
        font-size: 1.7vh;
    }

    #tbl2 tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl3 thead tr th {
        background: #5c7096;
        position: sticky;
        top: -3px;
        font-size: 1.7vh;
    }

    #tbl3 tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl4 thead tr th {
        background: #5c7096;
        position: sticky;
        top: -3px;
    }

    #tbl4 tbody tr td {
        word-break: break-all;
        font-size: 1.5vh;
    }

    #tbl tbody tr td {
        word-break: break-all;
    }

    #tbl1 tbody tr td {
        word-break: break-all;
    }

    #tbl2 tbody tr td {
        word-break: break-all;
    }

    #tbl3 tbody tr td {
        word-break: break-all;
    }
</style>
<div>
    <div class="header-advance-area">

        <!-- Mobile Menu start -->
        <div class="mobile-menu-area">
            <div class="container">

            </div>
        </div>
        <!-- Mobile Menu end -->
        <div class="breadcome-area" style="margin-top: 40px;">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="breadcome-list" style="padding: 10px 20px 10px 20px;margin: 30px 0px 10px 0px;" onclick="show_table('tbl')">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                    <div class="breadcomb-wp">
                                        <div class="breadcomb-icon zoom" data-toggle="tooltip" data-placement="bottom" title="Home">
                                            <a href="/Admin/Admin/Confirm_Page"><i class="icon nalika-home"></i></a>
                                        </div>
                                        <div class="breadcomb-ctn">
                                            <h2 langKey="all_device">All Devices</h2>
                                            <p>Welcome to Tooling <span class="bread-ntd">Room</span></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                    <div class="breadcomb-report">
                                        <button data-toggle="tooltip" data-placement="left" title="Xuất Excel" class="btn" onclick="fnExcelReport()"><i class="icon nalika-download"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="section-admin container-fluid">
            <div class="row admin text-center">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                            <div class="admin-content analysis-progrebar-ctn res-mg-t-15" onclick="show_table('tbl1')" style="padding: 10px 20px 10px 20px;">
                                <h6 class="text-left text-uppercase" langKey="fix_device"><b>Thiết bị cố định</b></h6>
                                <div class="row vertical-center-box vertical-center-box-tablet">
                                    <div class="col-xs-3 mar-bot-15 text-left">
                                        <label class="label bg-green" id="_kind1">@string.Format("{0:N2}", _kind1) % <i class="fa fa-level-up" aria-hidden="true"></i></label>
                                    </div>
                                    <div class="col-xs-9 cus-gh-hd-pro">
                                        <h2 class="text-right no-margin" id="kind1">@kind1</h2>
                                    </div>
                                </div>
                                <div class="progress progress-mini">
                                    <div style="width: @string.Format("{0:N2}", _kind1)%" class="progress-bar bg-green"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                            <div class="admin-content analysis-progrebar-ctn res-mg-t-30" onclick="show_table('tbl2')" style="padding: 10px 20px 10px 20px;">
                                <h6 class="text-left text-uppercase" langKey="consum_device"><b>Thiết bị tiêu hao</b></h6>
                                <div class="row vertical-center-box vertical-center-box-tablet">
                                    <div class="text-left col-xs-3 mar-bot-15">
                                        <label class="label bg-blue">@string.Format("{0:N2}", _kind2) % <i class="fa fa-level-up" aria-hidden="true"></i></label>
                                    </div>
                                    <div class="col-xs-9 cus-gh-hd-pro">
                                        <h2 class="text-right no-margin">@kind2</h2>
                                    </div>
                                </div>
                                <div class="progress progress-mini">
                                    <div style="width: @string.Format("{0:N2}", _kind2)%;" class="progress-bar bg-blue"></div>
                                </div>
                            </div>
                        </div>
                        @*<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <div class="admin-content analysis-progrebar-ctn res-mg-t-30" onclick="show_table('tbl3')" style="padding: 10px 20px 10px 20px;">
                                    <h6 class="text-left text-uppercase"><b>Thiết bị hao trái</b></h6>
                                    <div class="row vertical-center-box vertical-center-box-tablet">
                                        <div class="text-left col-xs-3 mar-bot-15">
                                            <label class="label bg-purple">@string.Format("{0:N2}", _kind3) % <i class="fa fa-level-up" aria-hidden="true"></i></label>
                                        </div>
                                        <div class="col-xs-9 cus-gh-hd-pro">
                                            <h2 class="text-right no-margin">@kind3</h2>
                                        </div>
                                    </div>
                                    <div class="progress progress-mini">
                                        <div style="width: @string.Format("{0:N2}", _kind3)%;" class="progress-bar bg-purple"></div>
                                    </div>
                                </div>
                            </div>*@
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12" style="margin-bottom:1px;">
                            <div class="admin-content analysis-progrebar-ctn res-mg-t-30" onclick="show_table('tbl3')" style="padding: 10px 20px 10px 20px;">
                                <h6 class="text-left text-uppercase"><b langKey="reserve_device">Thiết bị dự phòng</b></h6>
                                <div class="row vertical-center-box vertical-center-box-tablet">
                                    <div class="text-left col-xs-3 mar-bot-15">
                                        <label class="label bg-red">@string.Format("{0:N2}", _kind3) % <i class="fa fa-level-down" aria-hidden="true"></i></label>
                                    </div>
                                    <div class="col-xs-9 cus-gh-hd-pro">
                                        <h2 class="text-right no-margin">@kind3</h2>
                                    </div>
                                </div>
                                <div class="progress progress-mini">
                                    <div style="width: @string.Format("{0:N2}", _kind3)%;" class="progress-bar progress-bar-danger bg-red"></div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="product-sales-area mg-tb-30" style="margin: 10px 0px;">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="product-sales-chart" style="padding: 5px 10px 5px 20px;">
                        <div class="portlet-title">
                            <div class="row">
                                <div style="width:33.33%;float:left;height: 280px;">
                                    <div style="padding: 5px 26px 5px 10px;overflow:auto;">
                                        <div style="overflow:auto;height: 277px;">
                                            <table class="tblShow table-bordered" style="width: 100%;color:white;">
                                                <thead>
                                                    <tr style="height:45px;">
                                                        <th style="width:80%;" langKey="name_device">Device name</th>
                                                        <th langKey="quantity">Quantity</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @if (listAllDevice.Count() != 0)
                                                    {
                                                        foreach (var item in listAllDevice)
                                                        {
                                                            if (item.kind_of_device == 1)
                                                            {
                                                                if (item.quantity <= item.gioihan)
                                                                {
                                                                    <tr class="animation" style="background-color: #e6333394">
                                                                        <td>@item.device_name</td>
                                                                        <td>@item.quantity</td>
                                                                    </tr>
                                                                }
                                                                else
                                                                {
                                                                    <tr>
                                                                        <td>@item.device_name</td>
                                                                        <td>@item.quantity</td>
                                                                    </tr>
                                                                }
                                                            }
                                                        }
                                                    }

                                                </tbody>


                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div style="width:33.33%;float:left;height: 280px;">
                                    <div style="padding: 5px 18px 5px 4px;overflow:auto;">
                                        <div style="overflow:auto;height: 277px;">
                                            <table class="tblShow table-bordered" style="width: 100%; color:white;">
                                                <thead>
                                                    <tr style="height:45px;">
                                                        <th style="width:80%;" langKey="name_device">Device name</th>
                                                        <th langKey="quantity">Quantity</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @foreach (var item in listAllDevice)
                                                    {
                                                        if (item.kind_of_device == 2)
                                                        {
                                                            if (item.quantity <= item.gioihan)
                                                            {
                                                                <tr class="animation" style="background-color: #e6333394">
                                                                    <td>@item.device_name</td>
                                                                    <td>@item.quantity</td>
                                                                </tr>
                                                            }
                                                            else
                                                            {
                                                                <tr>
                                                                    <td>@item.device_name</td>
                                                                    <td>@item.quantity</td>
                                                                </tr>
                                                            }
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                @*<div style="width:25%;float:left;height: 280px;">
                                        <div style="padding: 5px 10px 5px 10px;overflow:auto;">
                                            <div style="overflow:auto;height: 277px;">
                                                <table class="tblShow table-bordered" style="width: 100%;color:white;">
                                                    <thead>
                                                        <tr style="height:45px;">
                                                            <th style="width:80%;">Device name</th>
                                                            <th>Quantity</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        @foreach (var item in listDeviceManager)
                                                        {
                                                            if (item.kind_of_device == 3)
                                                            {
                                                                if (item.quantity < 5)
                                                                {
                                                                    <tr class="animation" style="background-color: #e6333394">
                                                                        <td>@item.device_name</td>
                                                                        <td>@item.quantity</td>
                                                                    </tr>
                                                                }
                                                                else
                                                                {
                                                                    <tr>
                                                                        <td>@item.device_name</td>
                                                                        <td>@item.quantity</td>
                                                                    </tr>
                                                                }
                                                            }
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>*@
                                <div style="width:33.33%;float:left;height: 280px;">
                                    <div style="padding: 5px 10px 5px 20px;overflow:auto;">
                                        <div style="overflow:auto;height: 277px;">
                                            <table class="tblShow table-bordered" style="width: 100%;color:white;">
                                                <thead>
                                                    <tr style="height:45px;">
                                                        <th style="width:80%;" langKey="name_device">Device name</th>
                                                        <th langKey="quantity">Quantity</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @foreach (var item in listAllDevice)
                                                    {
                                                        if (item.kind_of_device == 3)
                                                        {
                                                            if (item.quantity <= item.gioihan)
                                                            {
                                                                <tr class="animation" style="background-color: #e6333394">
                                                                    <td>@item.device_name</td>
                                                                    <td>@item.quantity</td>
                                                                </tr>
                                                            }
                                                            else
                                                            {
                                                                <tr>
                                                                    <td>@item.device_name</td>
                                                                    <td>@item.quantity</td>
                                                                </tr>
                                                            }
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="product-sales-area mg-tb-30" style="margin: 10px 0px;height: 70vh;">
        <div class="container-fluid" style="height: 70vh;">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="product-sales-chart" style="padding: 6px 20px 5px 20px;">
                        <div class="portlet-title">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <div class="product-sales-chart" style="padding: 6px 20px 5px 20px;">
                                        <div class="portlet-title">
                                            <div class="row">
                                                <div class="content">
                                                    <div>

                                                        <div class="col-lg-2 col-md-7 col-sm-6 col-xs-12" style="float:right;width: 300px;">
                                                            <div class="header-top-menu tabl-d-n hd-search-rp">
                                                                <div class="breadcome-heading" style="margin: 0px 0px 10px 0px;">
                                                                    <form role="search" class="">
                                                                        <input id="input_search" type="text" placeholder="Search..." class="form-control" style="width: 283px;color: #fffaf0;height: 39px;">
                                                                        <a href="" style="left: 257px;margin-top: -23px;"><i class="fa fa-search"></i></a>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="" style="overflow:auto;height: 60vh; width:100%;">
                                                        <table id="tbl" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                                            <thead style="background:#5c7096;">
                                                                <tr>
                                                                    <th scope="col" style="text-align:center;width:2%">STT</th>
                                                                    <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                                    <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                                    <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                                    <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="unit">Đơn vị</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="location">Vị trí</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="status_1">TT</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="">Ghi chú</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="inventory_stamp">Kiểm kê</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="SN_code">SN</th>
                                                                    <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                                    <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="update_date">Ngày update</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="action">Hành động</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="tbl_id">
                                                                @foreach (var device in Model)
                                                                {
                                                                    { dem++; }
                                                                    if (device.device.quantity < device.device.gioihan)
                                                                    {
                                                                        <tr class="animation" style="background-color:#e6333394;">

                                                                            <td scope="row">@dem</td>
                                                                            <td><a onclick="ViewDetail(@device.device.id)">@device.device.code_device</a></td>
                                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                                            <td>@device.device.quantity</td>
                                                                            <td>@device.device.price</td>
                                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                            <td>@device.device.parameter</td>

                                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                            <td>@(device.device.note_status != null ? device.device.note_status : "")</td>
                                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                                            @if (device.device.create_date != null)
                                                                            {
                                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td>N/A</td>
                                                                            }
                                                                            @if (device.device.update_date != null)
                                                                            {
                                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td>N/A</td>
                                                                            }
                                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                            <td>@device.user_name</td>
                                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                                            <td>
                                                                                @if (device.device.calibration != null)
                                                                                {
                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                }
                                                                                else if (device.device.update_date != null)
                                                                                {
                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                }
                                                                                else if (device.device.calibration != null && device.device.update_date != null)
                                                                                {
                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                }

                                                                                <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                            </td>

                                                                        </tr>
                                                                    }
                                                                    else
                                                                    {
                                                                        <tr>

                                                                            <td scope="row">@dem</td>
                                                                            <td><a onclick="ViewDetail(@device.device.id)">@device.device.code_device</a></td>
                                                                            <td style="text-align:left;">@device.device.device_name</td>
                                                                            <td>@device.device.quantity</td>
                                                                            <td>@device.device.price</td>
                                                                            <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                            <td>@device.device.parameter</td>

                                                                            <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                                            <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                            <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                            <td>@(device.device.note_status != null ? device.device.note_status : "")</td>
                                                                            <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                                            <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                            <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                                            @if (device.device.create_date != null)
                                                                            {
                                                                                <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td>N/A</td>
                                                                            }
                                                                            @if (device.device.update_date != null)
                                                                            {
                                                                                <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td>N/A</td>
                                                                            }
                                                                            <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                            <td>@device.user_name</td>
                                                                            <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                                            <td>
                                                                                @if (device.device.calibration != null)
                                                                                {
                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                }
                                                                                else if (device.device.update_date != null)
                                                                                {
                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                }
                                                                                else if (device.device.calibration != null && device.device.update_date != null)
                                                                                {
                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                }

                                                                                <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                            </td>


                                                                        </tr>
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                        <table hidden id="tbl1" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                                            <thead style="background:#5c7096;">
                                                                <tr>
                                                                    <th scope="col" style="text-align:center;width:2%">STT</th>
                                                                    <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                                    <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                                    <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                                    <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="unit">Đơn vị</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="location">Vị trí</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="status_1">TT</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="">Ghi chú</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="inventory_stamp">Kiểm kê</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="SN_code">SN</th>
                                                                    <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                                    <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="update_date">Ngày update</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="action">Hành động</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="tbl1_id">
                                                                @foreach (var device in Model)
                                                                {
                                                                    if (device.device.kind_of_device == 1)
                                                                    {
                                                                        { dem1++; }
                                                                        if (device.device.quantity <= device.device.gioihan)
                                                                        {
                                                                            <tr class="animation" style="background-color:#e6333394;">

                                                                                <td scope="row">@dem1</td>
                                                                                <td><a onclick="ViewDetail(@device.device.id)">@device.device.code_device</a></td>
                                                                                <td style="text-align:left;">@device.device.device_name</td>
                                                                                <td>@device.device.quantity</td>
                                                                                <td>@device.device.price</td>
                                                                                <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                                <td>@device.device.parameter</td>

                                                                                <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                                                <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                                <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                                <td>@(device.device.note_status != null ? device.device.note_status : "")</td>
                                                                                <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                                                <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                                <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                                                @if (device.device.create_date != null)
                                                                                {
                                                                                    <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                @if (device.device.update_date != null)
                                                                                {
                                                                                    <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                                <td>@device.user_name</td>
                                                                                <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                                                <td>
                                                                                    @if (device.device.calibration != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.calibration != null && device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }

                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                                </td>


                                                                            </tr>
                                                                        }
                                                                        else
                                                                        {
                                                                            <tr>

                                                                                <td scope="row">@dem1</td>
                                                                                <td><a onclick="ViewDetail(@device.device.id)">@device.device.code_device</a></td>
                                                                                <td style="text-align:left;">@device.device.device_name</td>
                                                                                <td>@device.device.quantity</td>
                                                                                <td>@device.device.price</td>
                                                                                <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                                <td>@device.device.parameter</td>

                                                                                <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                                                <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                                <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                                <td>@(device.device.note_status != null ? device.device.note_status : "")</td>
                                                                                <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                                                <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                                <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                                                @if (device.device.create_date != null)
                                                                                {
                                                                                    <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                @if (device.device.update_date != null)
                                                                                {
                                                                                    <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                                <td>@device.user_name</td>
                                                                                <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                                                <td>
                                                                                    @if (device.device.calibration != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.calibration != null && device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }

                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                                </td>


                                                                            </tr>
                                                                        }
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                        <table hidden id="tbl2" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                                            <thead style="background:#5c7096;">
                                                                <tr>
                                                                    <th scope="col" style="text-align:center;width:2%;">STT</th>
                                                                    <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                                    <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                                    <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                                    <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="unit">Đơn vị</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="location">Vị trí</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="status_1">TT</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="">Ghi chú</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="inventory_stamp">Kiểm kê</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="SN_code">SN</th>
                                                                    <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                                    <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="update_date">Ngày update</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="action">Hành động</th>
                                                            </thead>
                                                            <tbody id="tbl2_id">
                                                                @foreach (var device in Model)
                                                                {
                                                                    if (device.device.kind_of_device == 2)
                                                                    {
                                                                        { dem2++; }
                                                                        if (device.device.quantity <= device.device.gioihan)
                                                                        {
                                                                            <tr class="animation" style="background-color:#e6333394;">

                                                                                <td scope="row">@dem</td>
                                                                                <td><a onclick="ViewDetail(@device.device.id)">@device.device.code_device</a></td>
                                                                                <td style="text-align:left;">@device.device.device_name</td>
                                                                                <td>@device.device.quantity</td>
                                                                                <td>@device.device.price</td>
                                                                                <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                                <td>@device.device.parameter</td>

                                                                                <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                                                <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                                <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                                <td>@(device.device.note_status != null ? device.device.note_status : "")</td>
                                                                                <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                                                <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                                <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                                                @if (device.device.create_date != null)
                                                                                {
                                                                                    <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                @if (device.device.update_date != null)
                                                                                {
                                                                                    <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                                <td>@device.user_name</td>
                                                                                <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                                                <td>
                                                                                    @if (device.device.calibration != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.calibration != null && device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }

                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                                </td>


                                                                            </tr>
                                                                        }
                                                                        else
                                                                        {
                                                                            <tr>

                                                                                <td scope="row">@dem2</td>
                                                                                <td><a onclick="ViewDetail(@device.device.id)">@device.device.code_device</a></td>
                                                                                <td style="text-align:left;">@device.device.device_name</td>
                                                                                <td>@device.device.quantity</td>
                                                                                <td>@device.device.price</td>
                                                                                <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                                <td>@device.device.parameter</td>

                                                                                <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                                                <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                                <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                                <td>@(device.device.note_status != null ? device.device.note_status : "")</td>
                                                                                <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                                                <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                                <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                                                @if (device.device.create_date != null)
                                                                                {
                                                                                    <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                @if (device.device.update_date != null)
                                                                                {
                                                                                    <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                                <td>@device.user_name</td>
                                                                                <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                                                <td>
                                                                                    @if (device.device.calibration != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.calibration != null && device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }

                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                                </td>


                                                                            </tr>
                                                                        }
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                        <table hidden id="tbl4" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                                            <thead style="background:#5c7096;">
                                                                <tr>
                                                                    <
                                                                    <th scope="col" style="text-align:center;width:2%">STT</th>
                                                                    <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                                    <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                                    <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                                    <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="unit">Đơn vị</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="location">Vị trí</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="status_1">TT</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="">Ghi chú</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="inventory_stamp">Kiểm kê</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="SN_code">SN</th>
                                                                    <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                                    <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                                    <th scope="col" style="text-align:center;width:6%;" langKey="update_date">Ngày update</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="action">Hành động</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="tbl3_id">
                                                                @foreach (var device in Model)
                                                                {
                                                                    if (device.device.kind_of_device == 3)
                                                                    {
                                                                        { dem3++; }
                                                                        if (device.device.quantity <= device.device.gioihan)
                                                                        {
                                                                            <tr class="animation" style="background-color:#e6333394;">

                                                                                <td scope="row">@dem3</td>
                                                                                <td><a onclick="ViewDetail(@device.device.id)">@device.device.code_device</a></td>
                                                                                <td style="text-align:left;">@device.device.device_name</td>
                                                                                <td>@device.device.quantity</td>
                                                                                <td>@device.device.price</td>
                                                                                <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                                <td>@device.device.parameter</td>

                                                                                <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                                                <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                                <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                                <td>@(device.device.note_status != null ? device.device.note_status : "")</td>
                                                                                <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                                                <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                                <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                                                @if (device.device.create_date != null)
                                                                                {
                                                                                    <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                @if (device.device.update_date != null)
                                                                                {
                                                                                    <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                                <td>@device.user_name</td>
                                                                                <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                                                <td>
                                                                                    @if (device.device.calibration != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.calibration != null && device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }

                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                                </td>


                                                                            </tr>
                                                                        }
                                                                        else
                                                                        {
                                                                            <tr>

                                                                                <td scope="row">@dem3</td>
                                                                                <td><a onclick="ViewDetail(@device.device.id)">@device.device.code_device</a></td>
                                                                                <td style="text-align:left;">@device.device.device_name</td>
                                                                                <td>@device.device.quantity</td>
                                                                                <td>@device.device.price</td>
                                                                                <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                                <td>@device.device.parameter</td>

                                                                                <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>

                                                                                <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                                <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                                <td>@(device.device.note_status != null ? device.device.note_status : "")</td>
                                                                                <td>@(device.device.makiemke != null ? device.device.makiemke.Trim() : "N/A")</td>
                                                                                <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                                <td>@(device.device.calibration != null ? device.device.calibration.Trim() : "N/A")</td>
                                                                                @if (device.device.create_date != null)
                                                                                {
                                                                                    <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                @if (device.device.update_date != null)
                                                                                {
                                                                                    <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td>N/A</td>
                                                                                }
                                                                                <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                                <td>@device.user_name</td>
                                                                                <td><button style="background: forestgreen;border: 1px solid green;border-radius: 7px;" onclick="ViewImage('@device.device.image_TB','@device.device.note_status')">Xem</button></td>
                                                                                <td>
                                                                                    @if (device.device.calibration != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else if (device.device.calibration != null && device.device.update_date != null)
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@(device.device.gioihan!=null?device.device.gioihan:0)','@(device.device.gioihan!=null?device.device.gioihan:0)','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id','@device.device.makiemke','@device.device.note_status')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                    }

                                                                                    <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                                </td>


                                                                            </tr>
                                                                        }
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                        <table hidden id="tbl3" class="table table-bordered" style="color:floralwhite;text-align:center;">
                                                            <thead style="background:#5c7096;">
                                                                <tr>
                                                                    <th scope="col" style="text-align:center;width:2%;">STT</th>
                                                                    <th scope="col" style="text-align:center;width: 6.2%;" langKey="code_device">Mã TB</th>
                                                                    <th scope="col" style="text-align:center; width:10%" langKey="name_device">Tên TB</th>
                                                                    <th scope="col" style="text-align:center; width:4%" langKey="quantity">Số lượng</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="price_device">Giá</th>
                                                                    <th scope="col" style="text-align:center; width:4%;" langKey="model_device">Nhãn hiệu</th>
                                                                    <th scope="col" style="text-align:center;width:10%;" langKey="parameter">Quy cách</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="unit">Đơn vị</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="location">Vị trí</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="status_1">TT</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="">Ghi chú</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="inventory_stamp">Kiểm kê</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="SN_code">SN</th>
                                                                    <th scope="col" style="text-align:center; width:5%;" langKey="calibration">Hiệu chỉnh</th>
                                                                    <th scope="col" style="text-align:center; width:6%;" langKey="create_date">Ngày nhập</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="update_date">Ngày update</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="kindOfDevice">Loại TB</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="manager">Quản lý</th>
                                                                    <th scope="col" style="text-align:center;width:4%;" langKey="image">Hình ảnh</th>
                                                                    <th scope="col" style="text-align:center;width:5%;" langKey="action">Hành động</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="tbl3_id">
                                                                @*@foreach (var device in Model)
                                                                    {
                                                                        if (device.device.kind_of_device == 4)
                                                                        {
                                                                            { dem4++; }
                                                                            if (device.device.quantity < 10)
                                                                            {
                                                                                <tr class="animation" style="background-color:#e6333394;">

                                                                                    <td scope="row">@dem</td>
                                                                                    <td>@device.device.code_device</td>
                                                                                    <td style="text-align:left;">@device.device.device_name</td>
                                                                                    <td>@device.device.quantity</td>
                                                                                    <td>@device.device.price</td>
                                                                                    <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                                    <td>@device.device.parameter</td>

                                                                                    <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>
                                                                                    <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                                    <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                                    <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                                    @if (device.device.calibration != null)
                                                                                    {
                                                                                        <td>@device.device.calibration.Value.ToString("dd/MM/yyyy")</td>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <td>N/A</td>
                                                                                    }
                                                                                    @if (device.device.create_date != null)
                                                                                    {
                                                                                        <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <td>N/A</td>
                                                                                    }
                                                                                    @if (device.device.update_date != null)
                                                                                    {
                                                                                        <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <td>N/A</td>
                                                                                    }
                                                                                    <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                                    <td>@device.user_name</td>
                                                                                    <td>
                                                                                        @if (device.device.calibration != null)
                                                                                        {
                                                                                            <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                        }
                                                                                        else if (device.device.update_date != null)
                                                                                        {
                                                                                            <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                        }
                                                                                        else if (device.device.calibration != null && device.device.update_date != null)
                                                                                        {
                                                                                            <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                        }

                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                                    </td>


                                                                                </tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                <tr>

                                                                                    <td scope="row">@dem</td>
                                                                                    <td>@device.device.code_device</td>
                                                                                    <td style="text-align:left;">@device.device.device_name</td>
                                                                                    <td>@device.device.quantity</td>
                                                                                    <td>@device.device.price</td>
                                                                                    <td>@(device.device.brand != null ? device.device.brand.Trim() : "N/A")</td>

                                                                                    <td>@device.device.parameter</td>

                                                                                    <td>@(device.device.unit != null ? device.device.unit.Trim() : "N/A")</td>
                                                                                    <td>@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "N/A")</td>
                                                                                    <td>@(device.device.location != null ? device.device.location.Trim() : "N/A")</td>

                                                                                    <td>@(device.device.status == 1 ? "OK" : device.device.status == 2 ? "NG" : "N/A")</td>
                                                                                    @if (device.device.calibration != null)
                                                                                    {
                                                                                        <td>@device.device.calibration.Value.ToString("dd/MM/yyyy")</td>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <td>N/A</td>
                                                                                    }
                                                                                    @if (device.device.create_date != null)
                                                                                    {
                                                                                        <td>@device.device.create_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <td>N/A</td>
                                                                                    }
                                                                                    @if (device.device.update_date != null)
                                                                                    {
                                                                                        <td>@device.device.update_date.Value.ToString("dd/MM/yyyy")</td>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <td>N/A</td>
                                                                                    }
                                                                                    <td>@(device.device.kind_of_device == 1 ? "TB CĐ" : device.device.kind_of_device == 2 ? "TB TH" : device.device.kind_of_device == 3 ? "TB HT" : device.device.kind_of_device == 4 ? "TB DP" : "N/A")</td>
                                                                                    <td>@device.user_name</td>
                                                                                    <td>
                                                                                        @if (device.device.calibration != null)
                                                                                        {
                                                                                            <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                        }
                                                                                        else if (device.device.update_date != null)
                                                                                        {
                                                                                            <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "N")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                        }
                                                                                        else if (device.device.calibration != null && device.device.update_date != null)
                                                                                        {
                                                                                            <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")'','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date.Value.ToString("yyyy-MM-dd")','@device.device.kind_of_device','@device.device.manager_id')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <button style="border: 0px;background: #1b2a47;" onclick="editDevice('@device.device.id','@device.device.code_device','@device.device.status','@device.device.device_name.Trim()','@device.device.quantity','@device.device.price.Trim()','@(device.device.brand != null ? device.device.brand.Trim() : "")','@device.device.parameter.Trim()','@(device.device.unit != null ? device.device.unit.Trim() : "")','@(device.device.produce_SN != null ? device.device.produce_SN.Trim() : "")','@(device.device.location != null ? device.device.location.Trim() : "")','@(device.device.calibration!=null?device.device.calibration:"")','@device.device.update_date','@device.device.kind_of_device','@device.device.manager_id')"><i class="fa fa-edit" style="color:#dee83b;"></i></button>
                                                                                        }

                                                                                        <button style="border: 0px;background: #1b2a47;" onclick="deleteDevice(@device.device.id)"><i class="fa fa-trash" style="color:red;"></i></button>
                                                                                    </td>


                                                                                </tr>
                                                                            }
                                                                        }
                                                                    }*@
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<div class="modal" id="myModal_Input">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Input Devices</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="height:560px;overflow:auto;">
                <input hidden id="receive_id" />
                <table style="border:0;width:100%" id="tblAddDevice">
                    <thead>
                        <tr style="height:50px;">
                            <th style="width: 20%;">Code Order</th>
                            <th style="width: 25%;">Device Name</th>
                            <th style="width:25%">Kind Of Device</th>
                            <th style="width:10%;">Quantity</th>
                            <th style="width:20%;">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="text" class="form-control TYPEDEVICE order_code" style="background-color:white;color:black;width:90%;margin-left:10px;height:43px;border: 1px solid #c3bfbf;" id=""></td>
                            <td>
                                <select id="device_name_add" class="selectpicker Da_select_model form-control" data-hide-disabled="true" data-live-search="true">
                                    @foreach (var device in listAllDevice)
                                    {
                                        <option value="@device.id">@device.device_name</option>
                                    }
                                </select>
                            </td>
                            <td>
                                <select class="form-control kindOfDevice" id="" style="height:42px; border: 1px solid #c3bfbf;border-radius: 1px;background: white;color: black;width: 98%;margin-left: 7px;padding: 8px;">
                                    <option value="0">Chọn Loại thiết bị</option>
                                    <option value="1">TB Cố định</option>
                                    <option value="2">TB Tiêu hao</option>
                                    <option value="3">TB Hao trái</option>
                                    <option value="4">TB Dự phòng</option>
                                </select>
                            </td>
                            <td><input type="text" class="form-control TYPEDEVICE quantity_input" style="background-color:white;color:black;width:100%;margin-left:10px;height:43px;border: 1px solid #c3bfbf;" id=""></td>
                            <td style="text-align:center;">
                                <button onclick="Add_Input()" style="background: aquamarine;border: 1px solid;padding: 5px 15px 5px 15px;border-radius: 20px;">Submit</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                @*<table class="table table-dark tblCreate">
                        <thead>
                            <tr>
                                <th>STT</th>
                                <th>Device Name</th>
                                <th>Unit</th>
                                <th>Quantity</th>
                                <th>Type</th>
                                <th>Note</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="tblReceive" style="text-align:center;"></tbody>
                    </table>*@
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btnclose">Finish</button>
                <button type="button" class="btn btn-secondary">Submit</button>
            </div>

        </div>
    </div>
</div>
<!-- The Modal -->
<div class="modal" id="myModal">
    <div class="modal-dialog modal-sm">
        <div class="modal-content" style="">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Create New Device</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="height:560px;overflow:auto;">
                <input hidden id="id_device" />
                <table class="tblCreate" style="width:50%;float: left;">
                    <tr>
                        <td>Mã TB : </td>
                        <td><input class="form-control" id="code_device" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" /></td>
                    </tr>
                    <tr>
                        <td>Tên TB : </td>
                        <td><input class="form-control" id="device_name" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" /></td>
                    </tr>
                    <tr>
                        <td>Số lượng : </td>
                        <td>
                            <input class="form-control" id="quantity" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                        </td>
                    </tr>
                    <tr>
                        <td>Giới hạn : </td>
                        <td>
                            <input class="form-control" id="gioihan" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                        </td>
                    </tr>
                    <tr>
                        <td>Giá : </td>
                        <td>
                            <input class="form-control" id="price" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                        </td>
                    </tr>

                    <tr>
                        <!--Nhãn hiệu -->
                        <td>Nhãn hiệu : </td>
                        <td>
                            <input class="form-control" id="brand" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                        </td>
                    </tr>
                    <tr>
                        <!--Quy cách -->
                        <td>Quy cách : </td>
                        <td>
                            <input class="form-control" id="parameter" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                        </td>
                    </tr>
                    <tr>
                        <!--Đơn vị-->
                        <td>Đơn vị : </td>
                        <td>
                            <input class="form-control" id="unit" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                        </td>
                    </tr>

                </table>
                <table class="tblCreate" style="width:50%;float:left">


                    <tr>
                        <!--Vị trí-->
                        <td>Kho : </td>
                        <td>
                            <select class="form-control" id="location" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                                <option value="0">Chọn kho</option>
                                <option value="1">Auto</option>
                                <option value="2">Arlo</option>
                                <option value="3">NetGear</option>
                                <option value="4">Label</option>
                            </select>
                            @*<input class="form-control" id="location" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" />*@
                        </td>
                    </tr>

                    <tr>
                        <!--Ngày update-->
                        <td>Ngày cập nhật : </td>
                        <td><input type="date" class="form-control" id="update_date" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" /></td>
                    </tr>
                    <tr>
                        <!--Loại thiết bị-->
                        <td>Loại TB : </td>
                        <td>
                            <select class="form-control" id="kindOfDevice" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                                <option value="0">Chọn Loại thiết bị</option>
                                <option value="1">TB Cố định</option>
                                <option value="2">TB Tiêu hao</option>
                                <option value="3">TB Dự phòng</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Trạng thái TB : </td>
                        <td>
                            <select class="form-control" id="statusTB" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                                <option value="0">Chọn trạng thái TB</option>
                                <option value="1">OK</option>
                                <option value="2">NG</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <!--Tem kiểm kê-->
                        <td>Tem kiểm kê: </td>
                        <td><input type="text" class="form-control" id="temkiemke" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" /></td>
                    </tr>
                    <tr>
                        <td>Mã SN: </td>
                        <td><input class="form-control" id="produce_SN" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" /></td>
                    </tr>
                    <tr>
                        <!--Hiệu chỉnh-->
                        <td>Hiệu chuẩn: </td>
                        <td><input type="text" class="form-control" id="calibration" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" /></td>
                    </tr>

                    <tr>
                        <td>Quản lý : </td>
                        <td>
                            <select class="form-control" id="manager" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;">
                                <option value="0">Chọn quản lý</option>
                                @foreach (var user in listManager)
                                {
                                    <option value="@user.id">@user.fullname</option>
                                }
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Ghi chú: </td>
                        <td>
                            <textarea id="noteStatus" style="float: left;border: 1px solid #a58147;border-radius: 20px;background: white;color: black;width: 80%;/* padding: 0; */margin: 0;" class="form-controle"></textarea>
                        </td>
                    </tr>
                </table>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btnclose">Đóng</button>
                <button type="button" class="btn btn-secondary" onclick="AddDevice()">Hoàn tất</button>
            </div>

        </div>
    </div>
</div>
<div class="modal" id="myModal_Image">
    <div class="modal-dialog modal-sm">
        <div class="modal-content" style="">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Create New Device</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="height:450px;">
                <input hidden id="id_device" />

                <div id="imageTB"> </div>
                <h5>Note: </h5>
                <textarea id="note_status" disabled style="border: 1px solid #80808082;color: red;background: #9ddaec4d;width: 850px;height: 50px;border-radius: 5px;"></textarea>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btnclose">Đóng</button>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="myDetail">
    <div class="modal-dialog modal-sm1">
        <div class="modal-content" style="">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title" langKey="detail">Detail</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="height:70%;">
                <input hidden id="id_device" />
                <div style="width:49.9%;border:1px solid;border-radius:5px;height:50%;float: left;padding: 5px;margin-right:2px;margin-top:2px;overflow:auto;">
                    <h4>Output: </h4>
                    <table class="table tblCreate" style="width:100%;float: left;background: floralwhite;">
                        <thead style="color: white;background: cadetblue;">
                            <tr>
                                <th style="width:5%;">STT</th>
                                <th style="width:20%;" langKey="code_device">Code Device</th>
                                <th style="width:35%;" langKey="name_device">Device Name</th>
                                <th style="width:10%;" langKey="quantity">Quantity</th>
                                <th style="width:15%;" langKey="order">Order</th>
                                <th style="width:15%;" langKey="date">Date</th>
                            </tr>
                        </thead>
                        <tbody id="table_1"></tbody>
                    </table>
                </div>
                <div style="width:49.5%;border:1px solid;border-radius:5px;float:right;height:100%;padding: 5px;margin-top:2px;overflow:auto;">
                    <h4 id="order_code">Order: </h4>
                    <table class="table tblCreate tbl_table3" style="width:100%;float: left;background:#def1de;">
                        <thead style="color: white;background: #0f5cbb;">
                            <tr>
                                <th style="width:5%;">STT</th>
                                <th style="width:35%;" langKey="name_device">Device Name</th>
                                <th style="width:20%;" langKey="quantity">Quantity</th>
                                <th style="width:10%;" langKey="type">Type</th>
                                <th style="width:15%;" langKey="note">Note</th>
                                <th style="width:15%;" langKey="date">Date</th>
                            </tr>
                        </thead>
                        <tbody id="table_3"></tbody>
                    </table>
                    <table id="table_4" class="table tblCreate tbl_table4" style="width:100%;float: left;background:#def1de;">
                        @*<thead style="color: white;background: #0f5cbb;">
                                <tr>
                                    <th style="width:5%;">STT</th>
                                    <th style="width:35%;" langKey="name_device">Device Name</th>
                                    <th style="width:20%;" langKey="quantity">Quantity</th>
                                    <th style="width:10%;" langKey="type">Type</th>
                                    <th style="width:15%;" langKey="note">Note</th>
                                    <th style="width:15%;" langKey="date">Date</th>
                                </tr>
                            </thead>*@
                        @*<tbody ></tbody>*@
                    </table>
                    <div id="content_cf"></div>
                </div>
                <div style="width:49.9%;border:1px solid;border-radius:5px;height:50%;float: left;padding: 5px;margin-right:2px;margin-top:2px;overflow:auto;">
                    <h4>Input: </h4>
                    <table class="table tblCreate" style="width:100%;float: left;background: #e2e4d7;">
                        <thead style="color: white;background: #0f5cbb;">
                            <tr>
                                <th style="width:5%;">STT</th>
                                <th style="width:15%;" langKey="code_device">Code Device</th>
                                <th style="width:25%;" langKey="name_device">Device Name</th>
                                <th style="width:10%;" langKey="quantity">Quantity</th>
                                <th style="width:15%;" langKey="order">Order</th>
                                <th style="width:15%;" langKey="date">Date</th>
                                <th style="width:15%;" langKey="note">Note</th>
                            </tr>
                        </thead>
                        <tbody id="table_2"></tbody>
                    </table>

                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btnclose">Đóng</button>
                <button type="button" class="btn btn-secondary" onclick="AddDevice()">Hoàn tất</button>
            </div>

        </div>
    </div>
</div>
<script>

    var tab = "tbl";
    function show_table(id_table) {
        var i;
        var x = document.getElementsByClassName("table");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        document.getElementById(id_table).style.display = "block";
        tab = id_table;
    }

    function ViewDetail(id) {
        $(".tbl_table3").show();
        $(".tbl_table4").hide();
        $("#table_1").empty();
        $("#table_2").empty();
        $("#table_3").empty();
        $("#table_4").hide();
        $("#table_3").append("<td colspan='6' style='text-align:center'>No result</td>");
        $("#content_cf").empty();
        $.ajax({
            type: "POST",
            url: "/Device/GetDataDetail_Device?id=" + id,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                debugger
                var row1 = "";
                if (data[0].length > 0) {
                    for (i = 0; i < data[0].length; i++) {
                        row1 += "<tr>" +
                            "<td>" + (i + 1) + "</td>" +
                            "<td>" + data[0][i].device.code_device + "</td>" +
                            "<td>" + data[0][i].device.device_name + "</td>" +
                            "<td>" + data[0][i].output.quantity_output + "</td>" +
                            "<td><a onclick='ViewReceive(" + data[0][i].receive.id + ")'>" + data[0][i].receive.code_receive + "</a></td>" +
                            "<td>" + convert_date(data[0][i].output.output_date) + "</td>" +
                            "</tr>"
                    }
                } else {
                    row1 = "<td colspan='7' style='text-align:center'>No result</td>";
                }
                var row2 = "";
                if (data[1].length > 0) {

                    for (i = 0; i < data[1].length; i++) {
                        if (data[1][i].receive == null) {
                            row2 += "<tr>" +
                                "<td>" + (i + 1) + "</td>" +
                                "<td>" + data[1][i].device.code_device + "</td>" +
                                "<td>" + data[1][i].device.device_name + "</td>" +
                                "<td>" + data[1][i].input.quantity + "</td>" +
                                "<td>" + data[1][i].input.code_order + "</td>" +
                                "<td>" + convert_date(data[1][i].input.input_date) + "</td>" +
                                "<td>" + data[1][i].input.note + "</td>" +
                                "</tr>";
                        } else {
                            row2 += "<tr>" +
                                "<td>" + (i + 1) + "</td>" +
                                "<td>" + data[1][i].device.code_device + "</td>" +
                                "<td>" + data[1][i].device.device_name + "</td>" +
                                "<td>" + data[1][i].input.quantity + "</td>" +
                                '<td><a onclick="detail_Input_Back(' + "'" + data[1][i].input.device_id + "','" + data[1][i].input.code_order + "'" + ')">' + data[1][i].input.code_order + "</a></td>" +
                                "<td>" + convert_date(data[1][i].input.input_date) + "</td>" +
                                '<td>' + data[1][i].input.note + '</td>' +
                                "</tr>"
                        }
                    }
                } else {
                    row2 = "<td colspan='7' style='text-align:center'>No result</td>";
                }
                $("#table_1").append(row1);
                $("#table_2").append(row2);
                modal_Detail.style.display = "block";

            }
        });
    }
    function detail_Input_Back(device_id, code_order) {
        $(".tbl_table3").hide();
        $(".tbl_table4").show();
        $.ajax({
            type: "POST",
            url: "/Device/GetDetail_ReceiveBack?code_order=" + code_order + "&device_id=" + device_id,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                var row = "";
                for (i = 0; i < data.length; i++) {
                    var list_image = "";
                    if (data[i].device.imageTB != null) {
                        $(".imageTB").append("<div>Không có hình ảnh nào!</div>");
                    } else {
                        debugger
                        var image_ = JSON.parse(data[i].device.image_TB);
                        if (image_ != null) {
                            for (j = 0; j < image_.length; j++) {
                                list_image += '<a href="/Data/Image/' + image_[j].file + '" data-toggle="lightbox" data-max-width="600" >' +
                                    '   <img style="width:150px;height:100px;border: 1px solid #2c303a" src="/Data/Image/' + image_[j].file + '" class="img-fluid">' +
                                    '</a>';
                            }
                        } else {
                            list_image = "";
                        }
                    }
                    row += '<thead style="color: white;background: #0f5cbb;">' +
                         '<tr><th>Mã đơn</th><th>Mã KK</th><th>SN</th><th>Tên TB</th><th>Model</th><th>Mã HC</th><th>Kho</th><th>TT</th><th>Hình ảnh</th>' +
                         '<tbody><tr>' +
                         '<td>' + data[i].receive.code_receive + '</td>' +
                         '<td>' + data[i].device.makiemke + '</td>' +
                         '<td>' + data[i].device.produce_SN + '</td>' +
                         '<td>' + data[i].device.device_name + '</td>' +
                         '<td>' + data[i].device.brand + '</td>' +
                         '<td>' + data[i].device.calibration + '</td>' +
                         '<td>' + data[i].device.location + '</td>' +
                         '<td>' + (data[i].device.status == 1 ? "OK" : "NG") + '</td>' +
                         '<td>' + list_image + '</td>' +
                         '</tr></tbody>';
                }
                //var row1 = "<h4 style='font-size: 1.5vh;color: #0f5cbb;margin: 0px;'>Order Name: " + data[0].receive.receive_name + "</h4>" +
                //    "<a tyle='color: #0f5cbb;margin: 0px;'>Create By: " + data[0].receive.create_by + "</a>" +
                //    "<h5> Manager:<a>" + data[0].receive.manager_confirm + "," + (data[0].receive.add_manager != null ? data[0].receive.add_manager_name : "") + "</a></h5>" +
                //    "<h6 style='color:black'>Date Complete: <a>" + (data[0].receive.complete_date != null ? convert_date(data[0].receive.complete_date) : "") + "</a></h6>";
                var transfer = "";
                if (data[0].receive.add_manager != null) {
                    transfer = '<tr><td>' + data[0].receive.add_manager_name + '</td><td>' + convert_date(data[0].receive.time_transfer_cf) + '</td></tr>';
                } else {
                    transfer = "";
                }
                row1 = "<h4 style='font-size: 1.5vh;color: #0f5cbb;margin: 0px;'>Order Name: " + data[0].receive.receive_name + "</h4>" +
                    "<a tyle='color: #0f5cbb;margin: 0px;'>Create By: " + data[0].receive.create_by + "</a>" +
                    '<table class="table table-bordered"><thead>' +
                    '<tr>' +
                    '<th>Người kí</th>' +
                    '<th>Ngày kí</th>' +
                    '</tr></thead>' +
                    '<tbody><tr>' +
                    '<td>' + data[0].receive.manager_confirm + '</td>' +
                    '<td>' + (data[0].receive.time_manager_cf != null ? convert_date(data[0].receive.time_manager_cf) : "") + (data[0].receive.time_manager_cf_Back != null ? convert_date(data[0].receive.time_manager_cf_Back) : "") + '</td>' +
                    '<tr>' +
                    '<td>Thủy</td>' +
                    '<td>' + convert_date(data[0].receive.time_Thuy_cf) + '</td>' +
                    '</tr>' +
                    '<tr>' +
                    '<td>C Thản</td>' +
                    '<td>' + convert_date(data[0].receive.time_CThanConfirm) + '</td>' +
                    '</tr>' +
                    '</tr>' + transfer +
                    '<tr>' +
                    '<td>Thủy</td>' +
                    '<td>' + convert_date(data[0].receive.complete_date) + '</td>' +
                    '</tr>' +
                    '</tbody></table>';
                $("#table_4").empty();
                $("#content_cf").empty();
                $("#table_4").append(row);
                $("#content_cf").append(row1);
            },
            error: function (err) {
                //debugger
                alert("FAIL!");
            }
        });

    }
    function ViewReceive(id) {
        $(".tbl_table3").show();
        $(".tbl_table4").hide();
        $("#table_3").empty();
        $("#content_cf").empty();
        $.ajax({
            type: "POST",
            url: "/Receive/get_Detail_Receive?receive_id=" + id,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
                var row = "";
                debugger
                for (i = 0; i < data[0].length; i++) {
                    var type = "";
                    if (data[0][i].output.type == 1) {
                        type = "Get";
                    } else if (data[0][i].output.type == 2) {
                        type = "Change";
                    } else {
                        type = "Borrow";
                    }
                    var note = "";
                    if (data[0][i].output.note != null) {
                        note = data[0][i].output.note;
                    }
                    else {
                        note = "";
                    }
                    row = row + '<tr>' +
                        '<td>' + (i + 1) + '</td>' +
                        '<td>' + data[0][i].device.device_name + '</td>' +
                        '<td class="quantity">' + data[0][i].output.quantity_output + '</td>' +
                        '<td>' + type + '</td>' +
                        '<td>' + note + '</td>' +
                        '<td>' + convert_date(data[0][i].output.output_date) + '</td>' +
                        '</tr>';
                }
                //var row1 = "<h4 style='font-size: 1.5vh;color: #0f5cbb;margin: 0px;'>Order Name: " + data[1].receive_name + "</h4>" +
                //    "<a tyle='color: #0f5cbb;margin: 0px;'>Create By: " + data[1].create_by + "</a>" +
                //    "<h5> Manager:<a>" + data[1].manager_confirm + "," + (data[1].add_manager != null ? data[1].add_manager : "") + "</a></h5>" +
                //    "<h6 style='color:black'>Date Complete: <a>" + convert_date(data[1].complete_date) + "</a></h6>"
                var transfer = "";
                if (data[1].add_manager != null) {
                    transfer = '<tr><td>' + data[1].add_manager_name + '</td><td>' + convert_date(data[1].time_transfer_cf) + '</td></tr>';
                } else {
                    transfer = "";
                }
                row1 = "<h4 style='font-size: 1.5vh;color: #0f5cbb;margin: 0px;'>Order Name: " + data[1].receive_name + "</h4>" +
                    "<a tyle='color: #0f5cbb;margin: 0px;'>Create By: " + data[1].create_by + "</a>" +
                    '<table class="table table-bordered"><thead>' +
                    '<tr>' +
                    '<th>Người kí</th>' +
                    '<th>Ngày kí</th>' +
                    '</tr></thead>' +
                    '<tbody><tr>' +
                    '<td>' + data[1].manager_confirm + '</td>' +
                    '<td>' + convert_date(data[1].time_manager_cf) + '</td>' +
                    '<tr>' +
                    '<td>C Thản</td>' +
                    '<td>' + convert_date(data[1].time_CThanConfirm) + '</td>' +
                    '</tr>' +
                    '</tr>' + transfer +
                    '<tr>' +
                    '<td>Thủy</td>' +
                    '<td>' + convert_date(data[1].complete_date) + '</td>' +
                    '</tr>' +
                    '</tbody></table>';
                $("#table_3").append(row);
                $("#content_cf").append(row1);
            }
        });
    }
    function fnExcelReport() {
        debugger
        var tab_text = "<table border='2px'><tr bgcolor='#87AFC6'>";
        var textRange; var j = 0;
        tab = document.getElementById('tbl'); // id of table

        for (j = 0; j < tab.rows.length; j++) {
            tab_text = tab_text + tab.rows[j].innerHTML + "</tr>";
            //tab_text=tab_text+"</tr>";
        }

        tab_text = tab_text + "</table>";
        /*tab_text = tab_text.replace(/<A[^>]*>|<\/A>/g, "");*///remove if u want links in your table
        /* tab_text = tab_text.replace(/<img[^>]*>/gi, "");*/ // remove if u want images in your table
        tab_text = tab_text.replace(/<input[^>]*>|<\/input>/gi, ""); // reomves input params

        var ua = window.navigator.userAgent;
        var msie = ua.indexOf("MSIE ");

        if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./))      // If Internet Explorer
        {
            txtArea1.document.open("txt/html", "replace");
            txtArea1.document.write(tab_text);
            txtArea1.document.close();
            txtArea1.focus();
            sa = txtArea1.document.execCommand("SaveAs", true, "List All Devices.xls");
        }
        else                 //other browser not tested on IE 11
            //sa = window.open('data:application/vnd.ms-excel,' + encodeURIComponent(tab_text));
            var a = document.createElement('a');
        a.href = 'data:application/vnd.ms-excel,' + encodeURIComponent(tab_text);
        a.download = "List All Devices.xls";
        a.click();

        return (sa);
    }
    $(document).ready(function () {
        function search() {
            $("#input_search").on("keyup", function () {
                //get the input value, trimmed, and lowercased
                var value = this.value.trim().toLowerCase();
                //get the associated table
                var $table;
                if (tab == "tbl") {
                    $table = $("#tbl_id");
                } else if (tab == "tbl1") {
                    $table = $("#tbl1_id");
                } else if (tab == "tbl2") {
                    $table = $("#tbl2_id");
                } else if (tab == "tbl3") {
                    $table = $("#tbl4_id");
                } else if (tab == "tbl4") {
                    $table = $("#tbl3_id");
                }


                //show all the rows to "undo" previous filtering
                $table.find('tr').show();

                //only filter if the value is not blank
                if (value) {
                    $table.find('thead tr').show();
                    //find all the rows that do not match the filter, and hide them
                    $table.find('tr').filter(function () {

                        return this.innerText.toLowerCase().indexOf(value) < 0;
                    }).hide();
                }
            });
        };
        search();
    })
    var modal = document.getElementById("myModal");
    var modal_Input = document.getElementById("myModal_Input");
    var modal_Image = document.getElementById("myModal_Image");
    var modal_Detail = document.getElementById("myDetail");
    function open_Modal_Add() {
        modal.style.display = "block";
    }
    function open_Modal_Input() {
        modal_Input.style.display = "block";
    }
    $(document).on("click", ".close", function () {
        modal.style.display = "none";
        modal_Input.style.display = "none";
        modal_Image.style.display = "none";
        modal_Detail.style.display = "none";
    })
    $(document).on("click", ".btnclose", function () {
        modal.style.display = "none";
        modal_Input.style.display = "none";
        modal_Image.style.display = "none";
        modal_Detail.style.display = "none";
    })
    function AddDevice() {
        var id;
        if ($("#id_device").val() != "") {
            id = document.getElementById("id_device").value;
        } else {
            id = 0;
        }
        var code_device;
        if ($("#code_device").val() != "") {
            code_device = document.getElementById("code_device").value;
        } else {
            code_device = "";
        }
        if ($("#device_name").val() != "") {
            device_name = document.getElementById("device_name").value;
        } else {
            alert("Vui lòng nhập tên thiết bị!");
            return;
        }

        var quantity;
        if ($("#quantity").val() != "") {
            quantity = document.getElementById("quantity").value;
        } else {
            alert("Vui lòng nhập số lượng TB!");
            return;
        }
        var gioihan;
        if ($("#gioihan").val() != "") {
            gioihan = document.getElementById("gioihan").value;
        } else {
            alert("Vui lòng nhập số lượng giới hạn!");
            return;
        }
        debugger
        var price;
        if ($("#price").val() != "") {
            price = document.getElementById("price").value;
        } else {
            alert("Vui lòng nhập giá của TB!");
            return;
        }
        var brand;
        if ($("#brand").val() != "") {
            brand = document.getElementById("brand").value;
        } else {
            brand = "";
        }
        var parameter;
        if ($("#parameter").val() != "") {
            parameter = document.getElementById("parameter").value;
        } else {
            alert("Vui lòng nhập quy cách TB!");
            return;
        }
        var unit;
        if ($("#unit").val() != "") {
            unit = document.getElementById("unit").value;
        } else {
            unit = "";
        }
        var kindOfDevice;
        if ($("#kindOfDevice").val() != 0) {
            kindOfDevice = $("#kindOfDevice").val();
            //Nếu là TB cố định thì check SN, Mã hiệu cuẩn, Tem kiểm kê
            if (kindOfDevice == 1) {
                var produce_SN;
                if ($("#produce_SN").val() != "") {
                    produce_SN = document.getElementById("produce_SN").value;
                } else {
                    alert("Vui lòng nhập Mã SN!");
                    return;
                }
                var temkiemke;
                if ($("#temkiemke").val() != "") {
                    temkiemke = document.getElementById("temkiemke").value;
                } else {
                    alert("Vui lòng nhập Tem kiểm kê!");
                    return;
                }
                var calibration;
                if ($("#calibration").val() != "") {
                    calibration = document.getElementById("calibration").value;
                } else {
                    alert("Vui lòng nhập mã Hiệu chuẩn!");
                    return;
                }
            } else {
                var produce_SN;
                if ($("#produce_SN").val() != "") {
                    produce_SN = document.getElementById("produce_SN").value;
                } else {
                    produce_SN = "";
                }
                var temkiemke;
                if ($("#temkiemke").val() != "") {
                    temkiemke = document.getElementById("temkiemke").value;
                } else {
                    temkiemke = "";
                }
                var calibration;
                if ($("#calibration").val() != "") {
                    calibration = document.getElementById("calibration").value;
                } else {
                    calibration = "";
                }
            }
        } else {
            alert("Vui lòng chọn loại TB!");
            return;
        }

        var location1;
        debugger
        if ($("#location").val() != 0) {
            location1 = $("#location option:selected").text();
        } else {
            alert("Vui lòng chọn kho!");
            return;
        }

        var update_date;
        if ($("#update_date").val() != "") {
            update_date = document.getElementById("update_date").value;
        } else {
            update_date = "";
        }

        var manager;
        if ($("#manager").val() != 0) {
            manager = $("#manager").val();
        } else {
            alert("Vui lòng chọn quản lý!");
            return;
        }
        var noteStatus;
        if ($("#noteStatus").val() != 0) {
            noteStatus = $("#noteStatus").val();
        } else {
            noteStatus = "";
        }
        var data = new FormData;
        data.append("id", id);
        data.append("code_device", code_device);
        data.append("gioihan", gioihan);
        data.append("device_name", device_name);
        data.append("manager_id", manager);
        data.append("quantity", quantity);
        data.append("price", price);
        data.append("brand", brand);
        data.append("parameter", parameter);
        data.append("unit", unit);
        data.append("produce_SN", produce_SN);
        data.append("location", location1);
        data.append("calibration", calibration);
        data.append("update_date", update_date);
        data.append("kind_of_device", kindOfDevice);
        data.append("makiemke", temkiemke);
        data.append("noteStatus", noteStatus);

        $.ajax({
            type: "Post",
            url: "/Device/CreateDevice",
            data: data,
            async: false,
            contentType: false,
            processData: false,
            success: function (data) {

                if (data == "OK") {
                    alert("Thành công!");
                    modal.style.display = "none";
                    $("#tbl_1").empty();
                    $("#tbl_2").empty();
                    $("#tbl_3").empty();
                    $("#tbl_id").empty();
                    $("#tbl1_id").empty();
                    $("#tbl2_id").empty();
                    $("#tbl3_id").empty();
                    //loadData1();
                    //loadData2();
                    location.reload();
                } else {
                    alert(data);
                }

            },
            error: function (err) {
                //debugger
                alert("FAIL!");
            }
        });
    }
    function editDevice(id, code_device,status, device_name, quantity, gioihan, price, brand, parameter, unit, produce_SN, location, calibration, update_date, kind_of_device, manager_id, makiemke,note_status) {
        debugger
        $("#id_device").val(id);
        $("#code_device").val(code_device);
        $("#code_device").prop("disabled", true);
        $("#code_device").css({ "background-color": "#d2d2d2" });
        $("#device_name").val(device_name);
        $("#quantity").val(quantity);
        $("#gioihan").val(gioihan);
        $("#price").val(price);
        $("#brand").val(brand);
        $("#parameter").val(parameter);
        $("#unit").val(unit);
        $("#produce_SN").val(produce_SN);
        $("#noteStatus").val(note_status);

        if (location != "") {
            $("#location option:selected").text(location);
        } else {
            $("#location option:selected").text("Chọn kho");
        }
        if (status == 1) {
            $("#statusTB option:selected").text("OK");
        } else {
            $("#statusTB option:selected").text("NG");
        }

        $("#calibration").val(calibration);
        $("#update_date").val(update_date);
        $("#location option:selected").text(location);
        $("#kindOfDevice").val(kind_of_device);
        $("#manager").val(manager_id);
        $("#temkiemke").val(makiemke);
        modal.style.display = "block";
        create = false;
    }
    //Delete Project
    function deleteDevice(id) {
        if (confirm("Do you want to delete this row?")) {
            //alert(id_delete);
            $.ajax({
                type: "POST",
                url: "/Device/Delete",
                data: '{id: ' + id + '}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {

                    alert("SUCCESS!");
                    location.reload();
                }
            });
        }
    }
    function ViewImage(imageTB, note_status) {
        if (imageTB != "") {
            $("#imageTB").empty();
            $("#note_status").empty();
            debugger
            var list_image = "";
            var image = JSON.parse(imageTB);
            for (j = 0; j < image.length; j++) {
                list_image += '<a href="/Data/Image/' + image[j].file + '" data-toggle="lightbox" data-max-width="600" >' +
                    '   <img style="width:50%;height:70%;border: 1px solid #2c303a;float:left;" src="/Data/Image/' + image[j].file + '" class="img-fluid">' +
                    '</a>';
            }
            $("#imageTB").append(list_image);
            $("#note_status").append(note_status);
            modal_Image.style.display = "block";
        } else {
            alert("TB này k có hình ảnh!");
        }
    }
    function convert_date(date) {
        if (date != null) {
            var completedDate = new Date(parseInt(date.replace("/Date(", "").replace(")/")));
            var dd = completedDate.getDate();
            var mm = completedDate.getMonth() + 1; //January is 0!
            var yyyy = completedDate.getFullYear();
            if (dd < 10) { dd = '0' + dd }
            if (mm < 10) { mm = '0' + mm }
            return dd + '-' + mm + '-' + yyyy;
        } else {
            return "";
        }
    }
</script>



