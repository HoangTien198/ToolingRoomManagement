
@{
    ViewBag.Title = "LUX_STATION";
    Layout = "~/Areas/Admin/Views/Shared/_Layout_AdminPage.cshtml";
    var session = (ToolingRoomManagement.Common.UserLogin)Session[ToolingRoomManagement.Common.CommonConstants.USER_SESSION];
}

<script src="~/Assets/admin/js/vendor/jquery-1.12.4.min.js"></script>
<style>
    .animation {
        background-color: red;
        position: relative;
        animation-name: example;
        animation-duration: 4s;
        animation-iteration-count: infinite;
    }

    .tblShow {
        border: 1px solid;
    }

        .tblShow thead tr th {
            vertical-align: middle;
            background: #2d9aca;
            padding: 0px 0px 0px 5px;
            position: sticky;
            top: -3px;
            font-size: 1.5vh;
            text-align:center;
        }

        .tblShow tbody tr td {
            vertical-align: middle;
            padding: 6px 15px;
            font-size: 1.5vh;
            text-align:center;
        }

    ::-webkit-scrollbar {
        width: 5px;
        height: 5px;
    }

    ::-webkit-scrollbar-thumb {
        -webkit-box-shadow: inset 0 0 4px 9px rgba(0,0,0,0.3);
        border-radius: 10px;
    }

    @@media (min-width: 900px) {
        .modal-sm {
            width: 60%;
        }

        .modal-sm1 {
            width: 80%;
        }
    }

    @@media (min-width: 900px) {
        .modal-content {
            -webkit-box-shadow: 0 5px 15px rgba(0,0,0,.5);
            box-shadow: 0 5px 15px rgba(0,0,0,.5);
        }
    }
    .nav-tabs li:hover a{
        color:black;
    }
</style>
<div>
    <div class="header-advance-area">

        <!-- Mobile Menu start -->
        <div class="mobile-menu-area">
            <div class="container">

            </div>
        </div>
        <!-- Mobile Menu end -->
        <div class="breadcome-area" style="margin-top: 40px;">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="breadcome-list" style="padding: 10px 20px 10px 20px;margin: 30px 0px 10px 0px;">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                    <div class="breadcomb-wp">
                                        <div class="breadcomb-icon zoom" data-toggle="tooltip" data-placement="bottom" title="Home">
                                            @if (session.GroupID == 1)
                                            {
                                                <a href="/Admin/Admin/Index"><i class="icon nalika-home"></i></a>
                                            }
                                            else if (session.GroupID == 2)
                                            {
                                                <a href="/Admin/Admin/UserPage"><i class="icon nalika-home"></i></a>
                                            }
                                            else if (session.GroupID == 3)
                                            {
                                                <a href="/Admin/Admin/StaffPage"><i class="icon nalika-home"></i></a>
                                            }
                                            else if (session.GroupID == 4)
                                            {
                                                <a href="/Admin/Admin/Confirm_Page"><i class="icon nalika-home"></i></a>
                                            }
                                        </div>
                                        <div class="breadcomb-ctn">
                                            <h2 langKey="">LUX</h2>
                                            <p>Welcome to Tooling <span class="bread-ntd">Room</span></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                    <div class="breadcomb-report">
                                        <button data-toggle="tooltip" data-placement="left" title="Export To Excel" class="btn" onclick="fnExcelReport()"><i class="icon nalika-download"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="product-sales-area mg-tb-30" style="margin: 10px 0px;">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="height: 733px;">
                    <div class="product-sales-chart" style="padding: 5px 10px 5px 20px;height:100%;">
                        <div class="portlet-title">
                            <div class="row">
                                <div>
                                    <div class="ng-isolate-scope" style="float:left;width:11%;background: #354d7d; border-radius: 5px;">
                                        <ul class="nav nav-tabs">
                                            <li onclick="show_table('tbl_FT1')" class="uib-tab nav-item ng-scope ng-isolate-scope" style="">
                                                <a class="nav-link ng-binding" uib-tab-heading-transclude="" style="color:white;">FT1</a>
                                            </li>
                                            <li onclick="show_table('tbl_FT3')" class="uib-tab nav-item ng-scope ng-isolate-scope" style="">
                                                <a class="nav-link ng-binding" uib-tab-heading-transclude="" style="color:white;">FT3</a>
                                            </li>
                                        </ul>
                                        
                                    </div>
                                    <div class="col-lg-2 col-md-7 col-sm-6 col-xs-12" style="float:right;width: 300px;margin-right:25px;">
                                        <div class="header-top-menu tabl-d-n hd-search-rp">
                                            <div class="breadcome-heading" style="margin: 0px 0px 10px 0px;">
                                                <form role="search" class="">
                                                    <input id="input_searchFT1" type="text" placeholder="Search..." class="form-control" style="width: 283px;color: #fffaf0;height: 39px;">
                                                    <input id="input_searchFT3" type="text" placeholder="Search..." class="form-control" style="width: 283px;color: #fffaf0;height: 39px;display:none;">
                                                    <a href="" style="left: 257px;margin-top: -23px;"><i class="fa fa-search"></i></a>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="width:100%;float:left;height: 655px;">
                                    <div style="padding: 5px 26px 5px 10px;overflow:auto;">
                                        <div style="width:100%;float:left;height: 655px;">
                                            <div style="padding: 5px 26px 5px 10px;overflow:auto;">
                                            </div>
                                            <div style="overflow:auto;height: 645px;">
                                                <button onclick="OpenModalLogin()" style="width: 140px;height: 35px;background: green;border-radius: 10px;border: 1px solid;color: white;">Login</button>
                                                <table id="tbl_FT1" class="tblShow table-bordered" style="width: 100%; color:white;">
                                                    <thead style="background:#5c7096;">
                                                        <tr style="height:4vh;">
                                                            <th scope="col" style="text-align:center;" colspan="10">LUX FT1</th>
                                                        </tr>
                                                        <tr style="height:3vh;">
                                                            <th scope="col" style="text-align:center;width:5%">#</th>
                                                            <th scope="col" style="text-align:center;width:10%">DATE</th>
                                                            <th scope="col" style="text-align:center;width:10%">TEN HANG</th>
                                                            <th scope="col" style="text-align:center;width:10%">SN HOP DEN</th>
                                                            <th scope="col" style="text-align:center;width:10%">2 LUX</th>
                                                            <th scope="col" style="text-align:center;width:10%">5 LUX</th>
                                                            <th scope="col" style="text-align:center;width:11%">10 LUX</th>
                                                            <th scope="col" style="text-align:center;width:11%">1000 LUX</th>
                                                            <th scope="col" style="text-align:center;width:11%">2000 LUX</th>
                                                            <th scope="col" style="text-align:center;width:11%">5000 LUX</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tbd_FT1"></tbody>
                                                </table>
                                                <table id="tbl_FT3" class="tblShow table-bordered" style="width: 100%; color:white;display:none;">
                                                    <thead style="background:#5c7096;">
                                                        <tr style="height:4vh;">
                                                            <th scope="col" style="text-align:center;" colspan="10">LUX FT3</th>
                                                        </tr>
                                                        <tr style="height:2vh;">
                                                            <th rowspan="2" style="width: 5%;">#</th>
                                                            <th rowspan="2" style="width: 12%;">DATE</th>
                                                            <th rowspan="2" style="width: 12%;">TEN HANG</th>
                                                            <th rowspan="2" style="width: 15%;">SN HOP DEN</th>
                                                            <th rowspan="1" colspan="2">5000K</th>
                                                            <th rowspan="1" colspan="2">6500K</th>
                                                            <th rowspan="1" colspan="2">3100K</th>
                                                        </tr>
                                                        <tr style="height:3vh;">
                                                            <th rowspan="1" style="width: 10%;">LUX</th>
                                                            <th rowspan="1" style="width: 10%;">K</th>
                                                            <th rowspan="1" style="width: 10%;">LUX</th>
                                                            <th rowspan="1" style="width: 10%;">K</th>
                                                            <th rowspan="1" style="width: 10%;">LUX</th>
                                                            <th rowspan="1" style="width: 10%;">K</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tbd_FT3"></tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="myModal">
    <div class="modal-dialog modal-sm">
        <div class="modal-content" style="width: 750px; margin-left: 50px;">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Login</h4>
                <button type="button" class="close" data-dismiss="modal" onclick="CloseModal()">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" style="height:200px;">
                <input hidden id="id_golden" />
                <table class="tblCreate" style="width:80%;float: left;margin-left:100px;">
                    <tr style="height:50px;">
                        <td langKey="">User Name: </td>
                        <td><input class="form-control" id="user_name" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" /></td>
                    </tr>
                    <tr style="height:50px;">
                        <td langKey="password">Pass : </td>
                        <td><input type="password" class="form-control" id="password" style="border: 1px solid #a58147;border-radius: 20px;background: white;color: black; width: 80%;" /></td>
                    </tr>
                </table>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                @*<button type="button" class="btn btn-secondary close">Close</button>*@
                <button type="button" class="btn btn-secondary btnClick" onclick="Login_LUX()" langKey="complete">Complete</button>
            </div>

        </div>
    </div>
</div>
<script>
    $("#input_searchFT1").show();
    $("#input_searchFT3").hide();
    $("#tbl_FT1").show();
    $("#tbl_FT3").hide();
    function loadDataFT1() {
        $("#tbd_FT1").empty();
        $.ajax({
            type: "POST",
            url: "/LUXFT1/getDataView",
            contentType: "application/json",
            datatype: "json/text",
            success: function (data) {
                var row = "";
                if (JSON.parse(data).length > 0) {
                    for (i = 0; i < JSON.parse(data).length; i++) {
                        var edit = "'" + JSON.parse(data)[i].id + "','" + JSON.parse(data)[i].model_name + "','" + JSON.parse(data)[i].SN_lightbox + "','" + JSON.parse(data)[i].LUX_2 + "','" + JSON.parse(data)[i].LUX_5 + "','" + JSON.parse(data)[i].LUX_10 + "','" + JSON.parse(data)[i].LUX_1000 + "','" + JSON.parse(data)[i].LUX_2000 + "','" + JSON.parse(data)[i].LUX_5000 + "'";
                        row += '<tr>' +
                            '<td>' + (i + 1) + '</td>' +
                            '<td>' + convert_date(JSON.parse(data)[i].create_date) + '</td>' +
                            '<td>' + JSON.parse(data)[i].model_name + '</td>' +
                            '<td>' + JSON.parse(data)[i].SN_lightbox + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_2 + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_5 + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_10 + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_1000 + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_2000 + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_5000 + '</td>' +
                            +'</tr>'
                    }
                } else {
                    row = '<tr><td colspan="11">_____________No Data_____________</td></tr>';
                }
                $("#tbd_FT1").append(row);

            },
            error: function (returnval) {
            }
        });
    }
    loadDataFT1();
    function loadDataFT3() {
        $("#tbd_FT3").empty();
        $.ajax({
            type: "POST",
            url: "/LUXFT3/getDataView",
            contentType: "application/json",
            datatype: "json/text",
            success: function (data) {
                var row = "";
                if (JSON.parse(data).length > 0) {
                    for (i = 0; i < JSON.parse(data).length; i++) {
                        var edit = "'" + JSON.parse(data)[i].id + "','" + JSON.parse(data)[i].model_name + "','" + JSON.parse(data)[i].SN_lightbox + "','" + JSON.parse(data)[i].LUX_1 + "','" + JSON.parse(data)[i].K_1 + "','" + JSON.parse(data)[i].LUX_2 + "','" + JSON.parse(data)[i].K_2 + "','" + JSON.parse(data)[i].LUX_3 + "','" + JSON.parse(data)[i].K_3 + "'";
                        row += '<tr>' +
                            '<td>' + (i + 1) + '</td>' +
                            '<td>' + convert_date(JSON.parse(data)[i].create_date) + '</td>' +
                            '<td>' + JSON.parse(data)[i].model_name + '</td>' +
                            '<td>' + JSON.parse(data)[i].SN_lightbox + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_1 + '</td>' +
                            '<td>' + JSON.parse(data)[i].K_1 + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_2 + '</td>' +
                            '<td>' + JSON.parse(data)[i].K_2 + '</td>' +
                            '<td>' + JSON.parse(data)[i].LUX_3 + '</td>' +
                            '<td>' + JSON.parse(data)[i].K_3 + '</td>' +
                            +'</tr>'
                    }
                } else {
                    row = '<tr><td colspan="11">_____________No Data_____________</td></tr>';
                }
                $("#tbd_FT3").append(row);

            },
            error: function (returnval) {
            }
        });
    }
    loadDataFT3();
    function show_table(id_table) {
        var i;
        var x = document.getElementsByClassName("table");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        if (id_table == "tbl_FT1") {
            $("#input_searchFT1").show();
            $("#input_searchFT3").hide();

            $("#tbl_FT1").show();
            $("#tbl_FT3").hide();
        } else {
            $("#input_searchFT1").hide();
            $("#input_searchFT3").show();

            $("#tbl_FT3").show();
            $("#tbl_FT1").hide();
        }
    }
    var modal = document.getElementById("myModal");
    function CloseModal() {
        modal.style.display = "none";
    }
    function OpenModalLogin() {
        modal.style.display = "block";
    }
    function Login_LUX() {
        if ($("#user_name").val() != "") {
            var user_name = document.getElementById("user_name").value;
        } else {
            alert("Pls Enter User Name!");
            return;
        }
        if ($("#password").val() != "") {
            var password = document.getElementById("password").value;
        } else {
            alert("Pls Enter Password!");
            return;
        }

        $.ajax({
            type: "Post",
            url: "/Login/LoginGolden?user_name=" + user_name + "&password=" + password,
            async: false,
            contentType: false,
            processData: false,
            success: function (data) {
                if (data == "OK") {
                    location.replace("/Admin/Admin/EDIT_LUX_STATION");
                } else if (data == "NG") {
                    alert("Password Incorrect!");
                } else {
                    alert(data);
                }
            },
            error: function (err) {
                //debugger
                alert("FAIL!");
            }
        });
    }
    function convert_date(date) {
        var completedDate = new Date(parseInt(date.replace("/Date(", "").replace(")/")));
        var dd = completedDate.getDate();
        var mm = completedDate.getMonth() + 1; //January is 0!
        var yyyy = completedDate.getFullYear();
        if (dd < 10) { dd = '0' + dd }
        if (mm < 10) { mm = '0' + mm }
        return dd + '-' + mm + '-' + yyyy;
    }
</script>
